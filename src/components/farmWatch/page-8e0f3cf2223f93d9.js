(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5704],{46601:function(){},18255:function(e,t,n){Promise.resolve().then(n.bind(n,59698))},59698:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return tm}});var s=n(57437),a=n(80323),r=n(74265),i=n(2265);function o(){let{executeV3:e}=(0,r.xX)(),{loginToken:t}=(0,a.useProfile)(),n=(0,i.useCallback)(async e=>{t&&await fetch("".concat("https://frontend-api.pump.fun","/captcha-score?captchaToken=").concat(encodeURIComponent(e)),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})},[t]);return(0,i.useEffect)(()=>{let s=async()=>{if(t&&e){let t=await e("captchaScore");await n(t),localStorage.setItem("lastCaptchaSubmission",Date.now().toString())}},a=localStorage.getItem("lastCaptchaSubmission"),r=Date.now();if(!a||r-parseInt(a)>=864e5){let e=setTimeout(s,3e3);return()=>clearTimeout(e)}},[t,e,n]),null}var l=n(89328);function c(e,t){let n={...e};for(let s in t)"object"!=typeof e[s]||null===e[s]||Array.isArray(e[s])?void 0!==t[s]&&(n[s]=t[s]):n[s]=c(e[s],t[s]);return n}let d={width:800,height:500,interval:"1D",timezone:"Etc/UTC",container:"",library_path:"",locale:"en",widgetbar:{details:!1,watchlist:!1,news:!1,datawindow:!1,watchlist_settings:{default_symbols:[]}},overrides:{"mainSeriesProperties.showCountdown":!1},studies_overrides:{},trading_customization:{position:{},order:{}},brokerConfig:{configFlags:{}},fullscreen:!1,autosize:!1,disabled_features:[],enabled_features:[],debug:!1,logo:{},time_frames:[{text:"5y",resolution:"1W"},{text:"1y",resolution:"1W"},{text:"6m",resolution:"120"},{text:"3m",resolution:"60"},{text:"1m",resolution:"30"},{text:"5d",resolution:"5"},{text:"1d",resolution:"1"}],client_id:"0",user_id:"0",charts_storage_api_version:"1.0",favorites:{intervals:[],chartTypes:[],indicators:[],drawingTools:[]}},u=JSON.parse('[{"iso":"ar","dir":"rtl","language":"ar"},{"iso":"pt","dir":"ltr","language":"pt"},{"iso":"ca","dir":"ltr","language":"ca_ES"},{"iso":"cs","dir":"ltr","language":"cs"},{"iso":"de","dir":"ltr","language":"de"},{"iso":"en","dir":"ltr","language":"en"},{"iso":"es","dir":"ltr","language":"es"},{"iso":"fa","dir":"rtl","language":"fa"},{"iso":"fr","dir":"ltr","language":"fr"},{"iso":"he","dir":"rtl","language":"he_IL"},{"iso":"hu","dir":"ltr","language":"hu_HU"},{"iso":"id","dir":"ltr","language":"id_ID"},{"iso":"en","dir":"ltr","language":"en"},{"iso":"it","dir":"ltr","language":"it"},{"iso":"ja","dir":"ltr","language":"ja"},{"iso":"ko","dir":"ltr","language":"ko"},{"iso":"ms","dir":"ltr","language":"ms_MY"},{"iso":"pl","dir":"ltr","language":"pl"},{"iso":"ru","dir":"ltr","language":"ru"},{"iso":"sv","dir":"ltr","language":"sv"},{"iso":"th","dir":"ltr","language":"th"},{"iso":"tr","dir":"ltr","language":"tr"},{"iso":"vi","dir":"ltr","language":"vi"},{"iso":"zh-Hans","dir":"ltr","language":"zh"},{"iso":"zh-Hant","dir":"ltr","language":"zh_TW"},{"iso":"el","dir":"ltr","language":"el"},{"iso":"nl","dir":"ltr","language":"nl_NL"},{"iso":"ro","dir":"ltr","language":"ro"}]'),h=!1,m=class{setDebugMode(e){this._innerAPI().setDebugMode(e)}onChartReady(e){this._ready?e.call(this):this._readyHandlers.push(e)}headerReady(){return this._innerWindowLoaded.then(()=>this._innerWindow().headerReady())}onGrayedObjectClicked(e){this._doWhenInnerApiLoaded(t=>{t.onGrayedObjectClicked(e)})}onShortcut(e,t){this._doWhenInnerWindowLoaded(n=>{n.createShortcutAction(e,t)})}subscribe(e,t){this._doWhenInnerApiLoaded(n=>{n.subscribe(e,t)})}unsubscribe(e,t){this._doWhenInnerApiLoaded(n=>{n.unsubscribe(e,t)})}chart(e){return this._innerAPI().chart(e)}getLanguage(){return this._options.locale}setSymbol(e,t,n){this._innerAPI().changeSymbol(e,t,n)}remove(){window.removeEventListener("resize",this._onWindowResize),this._readyHandlers.splice(0,this._readyHandlers.length),delete window[this._id],this._iFrame.parentNode&&this._iFrame.parentNode.removeChild(this._iFrame)}closePopupsAndDialogs(){this._doWhenInnerApiLoaded(e=>{e.closePopupsAndDialogs()})}selectLineTool(e,t){this._innerAPI().selectLineTool(e,t)}selectedLineTool(){return this._innerAPI().selectedLineTool()}save(e,t){this._innerAPI().saveChart(e,t)}load(e,t){this._innerAPI().loadChart({json:e,extendedData:t})}getSavedCharts(e){this._innerAPI().getSavedCharts(e)}loadChartFromServer(e){this._innerAPI().loadChartFromServer(e)}saveChartToServer(e,t,n){this._innerAPI().saveChartToServer(e,t,n)}removeChartFromServer(e,t){this._innerAPI().removeChartFromServer(e,t)}onContextMenu(e){this._doWhenInnerApiLoaded(t=>{t.onContextMenu(e)})}createButton(e){return this._innerWindow().createButton(e)}createDropdown(e){return this._innerWindow().createDropdown(e)}showNoticeDialog(e){this._doWhenInnerApiLoaded(t=>{t.showNoticeDialog(e)})}showConfirmDialog(e){this._doWhenInnerApiLoaded(t=>{t.showConfirmDialog(e)})}showLoadChartDialog(){this._innerAPI().showLoadChartDialog()}showSaveAsChartDialog(){this._innerAPI().showSaveAsChartDialog()}symbolInterval(){return this._innerAPI().getSymbolInterval()}mainSeriesPriceFormatter(){return this._innerAPI().mainSeriesPriceFormatter()}getIntervals(){return this._innerAPI().getIntervals()}getStudiesList(){return this._innerAPI().getStudiesList()}getStudyInputs(e){return this._innerAPI().getStudyInputs(e)}getStudyStyles(e){return this._innerAPI().getStudyStyles(e)}addCustomCSSFile(e){this._innerWindow().addCustomCSSFile(e)}applyOverrides(e){this._options=c(this._options,{overrides:e}),this._doWhenInnerWindowLoaded(t=>{t.applyOverrides(e)})}applyStudiesOverrides(e){this._doWhenInnerWindowLoaded(t=>{t.applyStudiesOverrides(e)})}watchList(){return this._innerAPI().watchlist()}news(){return this._innerAPI().news()}widgetbar(){return this._innerAPI().widgetbar()}activeChart(){return this._innerAPI().activeChart()}activeChartIndex(){return this._innerAPI().activeChartIndex()}setActiveChart(e){return this._innerAPI().setActiveChart(e)}chartsCount(){return this._innerAPI().chartsCount()}layout(){return this._innerAPI().layout()}setLayout(e){this._innerAPI().setLayout(e)}layoutName(){return this._innerAPI().layoutName()}changeTheme(e,t){return this._innerWindow().changeTheme(e,t)}getTheme(){return this._innerWindow().getTheme()}takeScreenshot(){this._doWhenInnerApiLoaded(e=>{e.takeScreenshot()})}lockAllDrawingTools(){return this._innerAPI().lockAllDrawingTools()}hideAllDrawingTools(){return this._innerAPI().hideAllDrawingTools()}drawOnAllCharts(e){this._innerAPI().drawOnAllCharts(e)}magnetEnabled(){return this._innerAPI().magnetEnabled()}magnetMode(){return this._innerAPI().magnetMode()}undoRedoState(){return this._innerAPI().undoRedoState()}setIntervalLinkingEnabled(e){this._innerAPI().setIntervalLinkingEnabled(e)}setDateRangeLinkingEnabled(e){this._innerAPI().setDateRangeLinkingEnabled(e)}setTimeFrame(e){this._innerAPI().setTimeFrame(e)}symbolSync(){return this._innerAPI().symbolSync()}intervalSync(){return this._innerAPI().intervalSync()}crosshairSync(){return this._innerAPI().crosshairSync()}timeSync(){return this._innerAPI().timeSync()}dateRangeSync(){return this._innerAPI().dateRangeSync()}setFeatureEnabled(e,t){this._innerAPI().setFeatureEnabled(e,t)}getAllFeatures(){return this._innerWindow().getAllFeatures()}clearUndoHistory(){return this._innerAPI().clearUndoHistory()}undo(){return this._innerAPI().undo()}redo(){return this._innerAPI().redo()}startFullscreen(){this._innerAPI().startFullscreen()}exitFullscreen(){this._innerAPI().exitFullscreen()}takeClientScreenshot(e){return this._innerAPI().takeClientScreenshot(e)}navigationButtonsVisibility(){return this._innerWindow().getNavigationButtonsVisibility()}paneButtonsVisibility(){return this._innerWindow().getPaneButtonsVisibility()}dateFormat(){return this._innerWindow().getDateFormat()}timeHoursFormat(){return this._innerWindow().getTimeHoursFormat()}currencyAndUnitVisibility(){return this._innerWindow().getCurrencyAndUnitVisibility()}supportedChartTypes(){return this._innerAPI().supportedChartTypes()}watermark(){return this._innerAPI().watermark()}customSymbolStatus(){return this._innerWindow().customSymbolStatus()}setCSSCustomProperty(e,t){if(!1===e.startsWith("--"))throw Error("customPropertyName should begin with a double hyphen");this._innerWindow().document.body.style.setProperty(e,t)}getCSSCustomPropertyValue(e){if(!1===e.startsWith("--"))throw Error("customPropertyName should begin with a double hyphen");let t=this._innerWindow().document.body;return t.style.getPropertyValue(e)||getComputedStyle(t).getPropertyValue(e)}linking(){return this._innerAPI().linking}_innerAPI(){return this._innerWindow().tradingViewApi}_innerWindow(){return this._iFrame.contentWindow}_doWhenInnerWindowLoaded(e){this._ready?e(this._innerWindow()):this._innerWindowLoaded.then(()=>{e(this._innerWindow())})}_doWhenInnerApiLoaded(e){this._doWhenInnerWindowLoaded(t=>{t.doWhenApiIsReady(()=>e(this._innerAPI()))})}_autoResizeChart(){this._options.fullscreen&&(this._iFrame.style.height=window.innerHeight+"px",p&&setTimeout(()=>{this._iFrame.style.height=window.innerHeight+"px"},30))}_create(){var e,t;let n=null!==(t=null===(e=this._options.enabled_features)||void 0===e?void 0:e.includes("iframe_loading_compatibility_mode"))&&void 0!==t&&t,[s,a]=this._render(!n),r=this._options.container,i="string"==typeof r?document.getElementById(r):r;if(null===i)throw Error("There is no such element - #".concat(this._options.container));i.innerHTML=s,this._iFrame=i.querySelector("#".concat(this._id));let o=this._iFrame;this._innerWindowLoaded=new Promise(e=>{let t=()=>{o.removeEventListener("load",t,!1),e()};o.addEventListener("load",t,!1)}),n&&(o.contentWindow?(o.contentWindow.document.open(),o.contentWindow.document.write(a),o.contentWindow.document.close()):console.warn("Unable to locate contentWindow for the created iframe. Please try disabling the `iframe_loading_compatibility_mode` featureset.")),(this._options.autosize||this._options.fullscreen)&&(o.style.width="100%",this._options.fullscreen||(o.style.height="100%")),window.addEventListener("resize",this._onWindowResize),this._onWindowResize(),this._innerWindowLoaded.then(()=>{try{this._innerWindow().widgetReady(()=>{for(let e of(this._ready=!0,this._readyHandlers))try{e.call(this)}catch(e){console.error(e)}this._innerWindow().initializationFinished()})}catch(e){if(e instanceof Error&&/widgetReady is not a function/.test(e.message))throw Error("There was an error when loading the library. Usually this error means the library failed to load its static files. Check that the library files are available at ".concat(window.location.host,"/").concat(this._options.library_path||""," or correct the library_path option."))}})}_render(e){let t=window;if(t[this._id]={datafeed:this._options.datafeed,customFormatters:this._options.custom_formatters,brokerFactory:this._options.broker_factory,overrides:this._options.overrides,studiesOverrides:this._options.studies_overrides,tradingCustomization:this._options.trading_customization,disabledFeatures:this._options.disabled_features,enabledFeatures:this._options.enabled_features,brokerConfig:this._options.broker_config||this._options.brokerConfig,restConfig:this._options.restConfig,favorites:this._options.favorites,logo:this._options.logo,numeric_formatting:this._options.numeric_formatting,rss_news_feed:this._options.rss_news_feed,rss_news_title:this._options.rss_news_title,newsProvider:this._options.news_provider,loadLastChart:this._options.load_last_chart,saveLoadAdapter:this._options.save_load_adapter,loading_screen:this._options.loading_screen,settingsAdapter:this._options.settings_adapter,getCustomIndicators:this._options.custom_indicators_getter,additionalSymbolInfoFields:this._options.additional_symbol_info_fields,headerWidgetButtonsMode:this._options.header_widget_buttons_mode,customTranslateFunction:this._options.custom_translate_function,symbolSearchComplete:this._options.symbol_search_complete,contextMenu:this._options.context_menu,settingsOverrides:this._options.settings_overrides,timeframe:this._options.timeframe,customTimezones:this._options.custom_timezones,customChartDescriptionFunction:this._options.custom_chart_description_function},this._options.saved_data)t[this._id].chartContent={json:this._options.saved_data},this._options.saved_data_meta_info&&(t[this._id].chartContentExtendedData=this._options.saved_data_meta_info);else if(!this._options.load_last_chart&&!this._options.symbol)throw Error("Symbol is not defined: either 'symbol' or 'load_last_chart' option must be set");if(this._options.library_path&&!this._options.library_path.endsWith("/")&&console.warn("library_path option should contain a trailing forward slash"),this._options.locale){let e=encodeURIComponent(this._options.locale);u.findIndex(t=>t.language===e)>=0||(console.warn("locale isn't supported. Using default of `en`."),this._options.locale="en")}let n=function(e,t){var n,s;let a=new URL("".concat(e||""),location.href).href,r=JSON.parse('["bundles/runtime.b283dc97286bf865cf08.js","bundles/__LANG__.4716.e4ac74dfc9ec5374b00c.js","bundles/6150.bda60280b05cea478076.css","bundles/5142.2c34c8656148cc5203b7.js","bundles/library.97ddeff81f861d17f06e.js"]'),i=encodeURIComponent(t),o=null!==(s=u.find(e=>e.language===i))&&void 0!==s?s:{iso:"en",dir:"ltr"},l='lang="'.concat(o.iso,'" dir="').concat(o.dir,'"'),c="\n".concat(function(e,t,n){if(void 0===e)return"";let s=[],a=[];for(let r of e)r.endsWith(".js")?s.push('<script defer crossorigin="anonymous" src="'.concat(r.replace("__LANG__",n),'"></script>')):r.endsWith(".css")&&a.push('<link type="text/css" href="'.concat(t?r.replace(/\.css$/i,".rtl.css"):r,'" rel="stylesheet"/>'));return[...s,...a].join("\n")}(r,"rtl"===o.dir,i),"\n");return"<!DOCTYPE html><html ".concat((n={bundles:c,localeLanguage:i,htmlAttrs:l,libraryPath:a}).htmlAttrs,'><head><base href="').concat(n.libraryPath,'"><meta charset="utf-8"><script>window===window.parent&&(location.href="about:blank")</script> ').concat(n.bundles,' </head><body class="chart-page unselectable on-widget"><div class="loading-indicator" id="loading-indicator"></div><script>var JSServer={},__initialEnabledFeaturesets=["charting_library"]</script><script>(function() {\n		window.urlParams = (function () {\n			var match,\n				pl	 = /\\+/g,  // Regex for replacing addition symbol with a space\n				search = /([^&=]+)=?([^&]*)/g,\n				decode = function (s) { return decodeURIComponent(s.replace(pl, \' \')).replace(/<\\/?[^>]+(>|$)/g, \'\'); },\n				query = function() {\n					// We don\'t use hash on the url because: safari 13 throws an error if you attempt this\n					// on a blob, and safari 14 will strip hash from blob urls.\n					if (frameElement && frameElement.dataset.widgetOptions) {\n						return frameElement.dataset.widgetOptions;\n					} else {\n						throw "Unexpected use of this page";\n					}\n				}(),\n				result = {};\n\n			while (match = search.exec(query)) {\n				result[decode(match[1])] = decode(match[2]);\n			}\n\n			var additionalSettingsObject = window.parent[result.uid];\n\n			var customObjectNames = [\'datafeed\', \'customFormatters\', \'brokerFactory\', \'save_load_adapter\', \'customTranslateFunction\', \'contextMenu\'];\n\n			for (var p in additionalSettingsObject) {\n				if (customObjectNames.indexOf(p) === -1) {\n					result[p] = JSON.stringify(additionalSettingsObject[p]);\n				}\n			}\n\n			return result;\n		})();\n\n		window.locale = urlParams.locale;\n		window.language = urlParams.locale; // a very big attention needed here\n		window.customTranslateFunction = window.parent[urlParams.uid].customTranslateFunction;\n		window.customChartDescriptionFunction = window.parent[urlParams.uid].customChartDescriptionFunction;\n\n		window.addCustomCSSFile = function(href) {\n			var link = document.createElement(\'link\');\n			link.setAttribute(\'type\', \'text/css\');\n			link.setAttribute(\'rel\', \'stylesheet\');\n			link.setAttribute(\'href\', href);\n			link.setAttribute(\'cross-origin\', \'anonymous\');\n\n			window.loadedCustomCss = new Promise((resolve) => {\n				link.onload = resolve;\n				link.onerror = resolve;\n			});\n			document.body.appendChild(link);\n		};\n\n		window.loadedCustomCss = Promise.resolve();\n		if (!!urlParams.customCSS) {\n			window.addCustomCSSFile(urlParams.customCSS);\n		}\n\n		var loadingScreenParams = {};\n\n		if (typeof urlParams.loading_screen === \'string\') {\n			try {\n				loadingScreenParams = JSON.parse(urlParams.loading_screen);\n			} catch(e) {}\n		}\n\n		var loadingIndicatorElement = document.getElementById(\'loading-indicator\');\n\n		if (loadingScreenParams.backgroundColor) {\n			loadingIndicatorElement.style = \'background-color: \' + loadingScreenParams.backgroundColor;\n		}\n\n		!function(){"use strict";var t,e=new WeakMap;!function(t){t[t.Element=1]="Element",t[t.Document=9]="Document"}(t||(t={}));var n={mini:"xsmall",xxsmall:"xxsmall",xsmall:"xsmall",small:"small",medium:"medium",large:"large"};var s,i,o,r,l,c=(void 0===l&&(l=""),s=\'<div class="tv-spinner \'.concat(l,\'" role="progressbar"></div>\'),o=function(n,s){var i,o;return i=null==s?document.documentElement:s.nodeType===t.Document?s.documentElement:s,e&&(o=e.get(i)),o||((o=i.ownerDocument.createRange()).selectNodeContents(i),e&&e.set(i,o)),o.createContextualFragment(n)}(s,i),null!==(r=o.firstElementChild)&&o.removeChild(r),r),a=function(){function t(t){this._shown=!1,this._el=c.cloneNode(!0),this.setSize(n[t||"large"])}return t.prototype.spin=function(t){return this._el.classList.add("tv-spinner--shown"),void 0===this._container&&(this._container=t,void 0!==t&&t.appendChild(this._el)),this._shown=!0,this},t.prototype.stop=function(t){return t&&void 0!==this._container&&this._container.removeChild(this._el),this._el&&this._el.classList.remove("tv-spinner--shown"),this._shown=!1,this},t.prototype.setStyle=function(t){var e=this;return Object.keys(t).forEach((function(n){var s=t[n];void 0!==s&&e._el.style.setProperty(n,s)})),this},t.prototype.style=function(){return this._el.style},t.prototype.setSize=function(t){var e=void 0!==t?"tv-spinner--size_".concat(t):"";return this._el.className="tv-spinner ".concat(e," ").concat(this._shown?"tv-spinner--shown":""),this},t.prototype.getEl=function(){return this._el},t.prototype.destroy=function(){this.stop(),delete this._el,delete this._container},t}();window.Spinner=a}();\n\n\n		var spinnerColor = (loadingScreenParams.foregroundColor) ? loadingScreenParams.foregroundColor : undefined;\n\n		var loadingSpinner = new Spinner(\'large\').setStyle({\n			\'--tv-spinner-color\': spinnerColor,\n			zIndex: String(2e9),\n		});\n		loadingSpinner.getEl().classList.add(\'spinner\');\n		loadingSpinner.spin(loadingIndicatorElement);\n	})();</script></body></html>')}(this._options.library_path||"",this._options.locale),s=new URL("about:blank");if(e){let e=new Blob([n],{type:"text/html"}),t=URL.createObjectURL(e);s=new URL(t)}let a="symbol="+encodeURIComponent(this._options.symbol||"")+"&interval="+encodeURIComponent(this._options.interval)+(this._options.toolbar_bg?"&toolbarbg="+encodeURIComponent(this._options.toolbar_bg.replace("#","")):"")+(this._options.studies_access?"&studiesAccess="+encodeURIComponent(JSON.stringify(this._options.studies_access)):"")+"&widgetbar="+encodeURIComponent(JSON.stringify(this._options.widgetbar))+(this._options.drawings_access?"&drawingsAccess="+encodeURIComponent(JSON.stringify(this._options.drawings_access)):"")+"&timeFrames="+encodeURIComponent(JSON.stringify(this._options.time_frames))+"&locale="+encodeURIComponent(this._options.locale)+"&uid="+encodeURIComponent(this._id)+"&clientId="+encodeURIComponent(String(this._options.client_id))+"&userId="+encodeURIComponent(String(this._options.user_id))+(this._options.charts_storage_url?"&chartsStorageUrl="+encodeURIComponent(this._options.charts_storage_url):"")+(this._options.charts_storage_api_version?"&chartsStorageVer="+encodeURIComponent(this._options.charts_storage_api_version):"")+(this._options.custom_css_url?"&customCSS="+encodeURIComponent(this._options.custom_css_url):"")+(this._options.custom_font_family?"&customFontFamily="+encodeURIComponent(this._options.custom_font_family):"")+(this._options.auto_save_delay?"&autoSaveDelay="+encodeURIComponent(String(this._options.auto_save_delay)):"")+"&debug="+encodeURIComponent(String(this._options.debug))+(this._options.snapshot_url?"&snapshotUrl="+encodeURIComponent(this._options.snapshot_url):"")+(this._options.timezone?"&timezone="+encodeURIComponent(this._options.timezone):"")+(this._options.study_count_limit?"&studyCountLimit="+encodeURIComponent(String(this._options.study_count_limit)):"")+(this._options.symbol_search_request_delay?"&ssreqdelay="+encodeURIComponent(String(this._options.symbol_search_request_delay)):"")+(this._options.compare_symbols?"&compareSymbols="+encodeURIComponent(JSON.stringify(this._options.compare_symbols)):"")+(this._options.theme?"&theme="+encodeURIComponent(String(this._options.theme)):"")+(this._options.header_widget_buttons_mode?"&header_widget_buttons_mode="+encodeURIComponent(String(this._options.header_widget_buttons_mode)):"")+(this._options.time_scale?"&time_scale="+encodeURIComponent(JSON.stringify(this._options.time_scale)):"");return['<iframe\n		id="'.concat(this._id,'" name="').concat(this._id,'" src="').concat(s.href,'" data-widget-options="').concat(a,'"\n		').concat(this._options.autosize||this._options.fullscreen?"":'width="'.concat(this._options.width,'" height="').concat(this._options.height,'"'),' title="Financial Chart" frameborder="0" allowTransparency="true" scrolling="no" allowfullscreen style="display:block;">\n	</iframe>'),n]}constructor(e){var t,n;if(this._id="tradingview_".concat((1048576*(1+Math.random())|0).toString(16).substring(1)),this._ready=!1,this._readyHandlers=[],this._onWindowResize=this._autoResizeChart.bind(this),!e.datafeed)throw Error("Datafeed is not defined");(null===(t=e.overrides)||void 0===t?void 0:t["mainSeriesProperties.priceAxisProperties.lockScale"])&&(console.warn("mainSeriesProperties.priceAxisProperties.lockScale can not be set to true within the widget constructor"),delete e.overrides["mainSeriesProperties.priceAxisProperties.lockScale"]),this._options=c(d,e),"dark"===(null!==(n=this._options.theme)&&void 0!==n?n:"light").toLowerCase()&&void 0===this._options.loading_screen&&(this._options.loading_screen={backgroundColor:"#131722"}),this._options.debug&&(h||(h=!0,console.log("Using CL v27.001 (internal id 3eb6c0e5 @ 2024-02-02T14:43:45.314Z)"))),this._create()}};window.TradingView=window.TradingView||{},window.TradingView.version=function(){return"CL v27.001 (internal id 3eb6c0e5 @ 2024-02-02T14:43:45.314Z)"};let p=!(!window.navigator||!window.navigator.userAgent)&&window.navigator.userAgent.includes("CriOS");var f=n(2560),g=n(63438),x=n(57042),b=n(45677),v=n(45234),y=n.n(v),w=n(27967),_=e=>{var t,n;let{candlesticks:a,height:r=500,widthScale:o=1,symbol:c,coin:d,fetchInitialCandlesticks:u,fetchMoreCandlesticks:h,earliestTimestamp:p}=e,v=(0,i.useRef)(null),[_,j]=(0,i.useState)(!0),[S,N]=(0,i.useState)(!1),k=(0,i.useRef)(null),[C,P]=(0,w._)("persist-one-min",!1),A=(0,i.useRef)(C?"1":"5"),[T,I]=(0,i.useState)({1:null,5:null}),[L,M]=(0,i.useState)(null),E=(0,l.useSocket)();(0,i.useEffect)(()=>{T["5"]||I({1:a.length?a[a.length-1]:null,5:a.length?a[a.length-1]:null})},[a]),(0,i.useEffect)(()=>{j(!d.raydium_pool)},[d]);let R=(0,i.useCallback)(e=>{let t=e.virtual_sol_reserves/g.LAMPORTS_PER_SOL/(0,f.K)(e.virtual_token_reserves),n=1e3*e.timestamp,s=1e3*Math.floor(Date.now()/1e3),a=a=>{let r=T[a];return!r||n>=s-s%(1e3*("1"===a?60:300))?{open:r?r.close:t,high:t,low:t,close:t,volume:e.sol_amount/g.LAMPORTS_PER_SOL,time:n,timestamp:n}:{open:r.open,high:Math.max(r.high,t),low:Math.min(r.low,t),close:t,volume:r.volume+e.sol_amount/g.LAMPORTS_PER_SOL,time:n,timestamp:r.timestamp}},r={1:a("1"),5:a("5")};return I(r),r[A.current]},[A.current]),O=(0,i.useCallback)(()=>{if(k.current&&k.current.tradingViewApi){let e=T[A.current],t=k.current.tradingViewApi.onRealtimeCallbacks.get(A.current);t&&e&&e.time&&!isNaN(new Date(e.time).getTime())&&t(e)}},[null==k?void 0:null===(n=k.current)||void 0===n?void 0:null===(t=n.tradingViewApi)||void 0===t?void 0:t.onRealtimeCallbacks,T,A.current]),B=e=>{switch(e){case"5":default:return 5;case"1":return 1}};return(0,i.useEffect)(()=>{if(v.current){if(!E)return;let e=new m({debug:!1,symbol:c,interval:C?"1":"5",container:v.current.id,datafeed:{onReady:e=>{setTimeout(()=>e({}),0)},searchSymbols:async(e,t,n,s)=>{},resolveSymbol:async(e,t,n)=>{t({name:e,ticker:e,description:"".concat(e),type:"crypto",session:"24x7",timezone:"Etc/UTC",exchange:"Pump",minmov:1,pricescale:1e10,has_intraday:!0,has_daily:!0,has_weekly_and_monthly:!1,supported_resolutions:["1","5"],data_status:"endofday"})},getBars:(e,t,n,s,r)=>{let i=a.filter(e=>{let t=1e3*e.timestamp;return t>=1e3*n.from&&t<=1e3*n.to}).map(e=>({time:1e3*e.timestamp,low:e.low,high:e.high,open:e.open,close:e.close,volume:e.volume}));i.length||a?s(i,{noData:!1}):s([],{noData:!0})},subscribeBars:(e,t,n,s,a)=>(k.current&&(k.current.tradingViewApi||(k.current.tradingViewApi={onRealtimeCallbacks:new Map}),k.current.tradingViewApi.onRealtimeCallbacks.set(t,n)),()=>{k.current&&k.current.tradingViewApi&&k.current.tradingViewApi.onRealtimeCallbacks.delete(t)}),unsubscribeBars:e=>{}},library_path:"/tradingview/charting_library/",locale:"en",autosize:!0,theme:"dark",overrides:{"paneProperties.background":"#1b1d28","paneProperties.backgroundType":"solid","mainSeriesProperties.showPriceLine":!0,"scalesProperties.lineColor":"#555","scalesProperties.textColor":"#AAA","paneProperties.vertGridProperties.color":"#454545","paneProperties.horzGridProperties.color":"#454545","symbolWatermarkProperties.transparency":90,"scalesProperties.showLeftScale":!1,"scalesProperties.showRightScale":!0}});return k.current=e,e.onChartReady(()=>{if(!(null==k?void 0:k.current))return;L&&k.current.chart().setTimeFrame({val:{type:"time-range",from:L.from,to:L.to},res:A.current});let e=B(A.current);k.current.chart().onVisibleRangeChanged().subscribe(null,async t=>{M(t);let{from:n}=t;null!==p&&n-10<p&&await h(e)}),k.current.chart().onIntervalChanged().subscribe(null,(t,n)=>{A.current=t,P("1"===t),u(e)})}),()=>{e.remove(),k.current=null}}},[a,r,o,c,d]),(0,i.useEffect)(()=>{if(!E||!k.current)return;let e=async e=>{let t=R(e);if(k.current&&k.current.chart){for(let t=0;t<5;t++){let t=e.is_buy?"arrow_up":"arrow_down",n=k.current.chart().createShape({channel:e.is_buy?"low":"high",time:1e3*e.timestamp},{shape:t,overrides:{arrowColor:"yellow"},zOrder:"top"});await (0,b.Z)(50),n&&k.current.chart().removeEntity(n),await (0,b.Z)(50)}if(k.current.tradingViewApi){let e=k.current.tradingViewApi.onRealtimeCallbacks.get(A.current);e&&t&&t.time&&!isNaN(new Date(t.time).getTime())&&e(t)}}};return E.on("tradeCreated:".concat(d.mint),e),()=>{E.off("tradeCreated:".concat(d.mint),e)}},[E,k,d.mint,R]),(0,i.useEffect)(()=>{O()},[A.current]),(0,s.jsxs)("div",{className:"grid h-fit gap-2",children:[d.raydium_pool&&(0,s.jsxs)("div",{className:"flex gap-1 h-fit items-center text-white",children:[(0,s.jsx)("div",{onClick:()=>j(!0),className:(0,x.Z)("cursor-pointer px-1 rounded",_&&"bg-green-300 text-black",!_&&"hover:bg-gray-800 text-gray-500"),children:"Pump chart"}),(0,s.jsx)("div",{onClick:()=>j(!1),className:(0,x.Z)("cursor-pointer px-1 rounded",!_&&"bg-green-300 text-black",_&&"hover:bg-gray-800 text-gray-500"),children:"Current chart"})]}),(0,s.jsxs)("div",{className:"chart-container ".concat(S?"animate-shake":""),children:[(0,s.jsx)("div",{id:"tv-chart-".concat(Math.random().toString(36).substring(2,15)),ref:v,className:(0,x.Z)(!_&&"hidden"),style:{height:"".concat(r,"px"),width:"".concat(100*o,"%")}}),(0,s.jsx)("div",{className:(0,x.Z)(y().dexscreenerEmbed,_&&"hidden"),children:(0,s.jsx)("div",{id:"dexscreener-embed",children:(0,s.jsx)("iframe",{style:{height:"".concat(r,"px"),width:"".concat(100*o,"%")},src:"https://dexscreener.com/solana/".concat(d.raydium_pool,"?embed=1&theme=dark&trades=0&info=0")})})})]})]})},j=n(16112),S=n(68368),N=n(94121),k=n(72086),C=n(21499),P=n(59613),A=n(68166);let T=()=>{let[e,t]=(0,i.useState)(),{connection:n}=(0,k.R)(),s=(0,P.z)();return(0,i.useEffect)(()=>{let e=new N.Y7(n,s||null,{});t(new N.$r(A,new g.PublicKey("6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P"),e))},[n,s]),{pumpProgram:e}},I=e=>{let[t,n]=(0,i.useState)(),[s,a]=(0,i.useState)(!1),{connection:r}=(0,k.R)(),{global:o}=(0,C.O)(),{pumpProgram:l}=T(),[c,d]=(0,i.useState)(0),u=async()=>{e&&l&&(a(!0),n(await l.account.bondingCurve.fetch(e.bonding_curve)),a(!1))},h=async()=>{let{solPrice:e}=await fetch("".concat("https://frontend-api.pump.fun","/sol-price")).then(e=>e.json());d(e)},m=()=>{if(!e||!l)return;u();let t=r.onAccountChange(new g.PublicKey(e.bonding_curve),()=>{u()});return()=>r.removeAccountChangeListener(t)};(0,i.useEffect)(()=>{let e=m();return h(),()=>{e&&e()}},[e,l]);let p=e=>o?e.mul(o.feeBasisPoints).div(new N.BN(1e4)):new N.BN(0),f=(e,n)=>{let s,a;if(e.eq(new N.BN(0))||!t)return new N.BN(0);if(n){let n=t.virtualSolReserves.mul(t.virtualTokenReserves),r=t.virtualSolReserves.add(e),i=n.div(r).add(new N.BN(1));a=t.virtualTokenReserves.sub(i),a=N.BN.min(a,t.realTokenReserves),s=e}else s=(e=N.BN.min(e,t.realTokenReserves)).mul(t.virtualSolReserves).div(t.virtualTokenReserves.sub(e)).add(new N.BN(1)),a=e;let r=p(s);return n?a:s.add(r)};return{bondingCurve:t,loading:s,fetchBondingCurve:u,buyQuote:f,sellQuote:e=>{if(e.eq(new N.BN(0))||!t)return new N.BN(0);let n=e.mul(t.virtualSolReserves).div(t.virtualTokenReserves.add(e)),s=p(n);return n.sub(s)},global:o,getUSDMarketCap:()=>{if(!t||!o)return 0;let{virtualSolReserves:e,virtualTokenReserves:n,tokenTotalSupply:s}=t;return n.eq(new N.BN(0))?0:Number((s.mul(e).div(n).toNumber()/1e9*c).toFixed(10)).toLocaleString()},solPrice:c,getFinalUSDMarketCap:()=>{if(!t||!o)return 0;let{virtualSolReserves:e,virtualTokenReserves:n,tokenTotalSupply:s,realTokenReserves:a}=t,r=f(a,!1),i=e.add(r),l=n.sub(a);return l.eq(new N.BN(0))?0:Number((s.mul(i).div(l).toNumber()/1e9*c).toFixed(0)).toLocaleString()},getKingOfTheHillMarketCap:()=>Number(((0,S.s)(new N.BN("200000000000"))*c).toFixed(0)).toLocaleString(),getFinalVirtualSolReserves:()=>new N.BN(85*1e9)}},L=e=>{let[t,n]=(0,i.useState)(),s=async()=>{if(!e)return;let t=await fetch("".concat("https://frontend-api.pump.fun","/global-params/").concat(e)).then(e=>e.json());n(e=>e===t.signature?e:t)};return(0,i.useEffect)(()=>{s()},[e]),{initialBondingCurveParams:t,fetchInitialBondingCurveParams:s}};var M=n(1657),E=n(56662),R=n.n(E),O=n(44581),B=e=>{let{mint:t}=e;return(0,s.jsx)("iframe",{src:"https://app.bubblemaps.io/sol/token/".concat(t,"?pumpfun=true&hide_context"),width:"100%",height:"500px",className:"h-[80vh]"})},F=n(42706);let D=e=>{let{coin:t}=e,[n,a]=(0,i.useState)([]),[r,o]=(0,i.useState)(null),[l,c]=(0,i.useState)(!1),{bondingCurve:d,loading:u}=I(t),{connection:h}=(0,k.R)(),[m,p]=(0,i.useState)(!1),[f,x]=(0,i.useState)(!1),b=async()=>{c(!0);let{value:e}=await h.getTokenLargestAccounts(new g.PublicKey(t.mint));o(await (0,O.Am)(new g.PublicKey(t.mint),new g.PublicKey(t.creator))),a(e),c(!1)};return(0,i.useEffect)(()=>{b()},[t,d]),(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsxs)("div",{className:"font-bold flex justify-between items-center",children:["Holder distribution"," ",(0,s.jsx)("button",{className:"whitespace-nowrap text-xs font-medium ring-offset-white transition-colors  py-1 px-2 rounded text-gray-400 hover:bg-gray-600 bg-gray-700",onClick:()=>p(!0),children:"Generate bubble map"})]}),(0,s.jsx)("div",{className:"text-sm",children:l||u?(0,s.jsx)("div",{children:"Loading..."}):(null==n?void 0:n.length)?(0,s.jsx)("div",{className:"grid gap-1",children:n.map((e,n)=>{let{address:a,amount:i}=e;return(0,s.jsxs)("div",{className:"flex justify-between",children:[(0,s.jsxs)("a",{className:"hover:underline",href:"https://solscan.io/account/".concat(a.toBase58()),target:"_blank",rel:"noopener noreferrer",children:[n+1,". ",a.toBase58().slice(0,6),a.toBase58()===t.associated_bonding_curve?" \uD83C\uDFE6 (bonding curve)":null,r&&a.equals(r)?" \uD83E\uDD35‍♂️ (dev)":null]}),(0,s.jsxs)("div",{children:[d&&(new E.BN(i).mul(new E.BN(1e4)).div(d.tokenTotalSupply).toNumber()/1e4*100).toFixed(2),"%"]})]},n)})}):(0,s.jsx)("div",{children:"No holders"})}),(0,s.jsx)(F.Vq,{open:m,onOpenChange:e=>p(e),children:(0,s.jsxs)(F.cZ,{className:(0,M.cn)("bg-primary text-white p-4 text-center max-w-[900px]",f?"max-w-full h-full":"max-w-[960px]"),children:[(0,s.jsxs)(F.fK,{className:"text-center",children:[(0,s.jsxs)("div",{className:"flex gap-3 self-end",children:[(0,s.jsx)("button",{className:"text-slate-50 hover:text-slate-50 cursor-pointer w-fit justify-self-center",onClick:()=>x(!f),children:f?"[Compact]":"[Full]"}),(0,s.jsx)("button",{className:"text-slate-50 hover:text-slate-50 cursor-pointer w-fit justify-self-center",onClick:()=>p(!1),children:"[close]"})]}),(0,s.jsx)(F.$N,{className:"text-center",children:"Bubble Map"})]}),(0,s.jsx)(B,{mint:t.mint})]})})]})};var z=n(23177);let W=i.forwardRef((e,t)=>{let{className:n,value:a,barColor:r="bg-slate-900",...i}=e;return(0,s.jsx)(z.fC,{ref:t,className:(0,M.cn)("relative h-4 w-full overflow-hidden rounded-full bg-slate-100 dark:bg-slate-800",n),...i,children:(0,s.jsx)(z.z$,{className:"h-full w-full flex-1 ".concat(r," transition-all dark:bg-slate-50"),style:{transform:"translateX(-".concat(100-(a||0),"%)")}})})});function U(e){let{coin:t}=e,{name:n,description:a,symbol:r,image_uri:o,bonding_curve:l,twitter:c,telegram:d,website:u,created_timestamp:h}=t,{bondingCurve:m,global:p,getFinalUSDMarketCap:g,getKingOfTheHillMarketCap:b}=I(t),{initialBondingCurveParams:v}=L(h),[y,w]=(0,i.useState)(!1);if(!m||!p)return null;let{realTokenReserves:_,realSolReserves:j,virtualSolReserves:N,virtualTokenReserves:k,tokenTotalSupply:C}=m;if(!v)return null;let{initial_real_token_reserves:P,initial_virtual_token_reserves:A,initial_virtual_sol_reserves:T}=v,R=new E.BN(100).sub(_.mul(new E.BN(100)).div(new E.BN(P))).toNumber(),O=(0,f.K)(A),B=(0,S.s)(new E.BN(T)),F=(0,S.s)(new E.BN("200000000000")),z=(0,f.K)(C),U=Math.min(new E.BN(P).sub(_).mul(new E.BN(100)).div(new E.BN((1e6*Math.max(O-Math.sqrt(O*B*z/F),1)).toFixed(0))).toNumber(),100);return(0,s.jsxs)("div",{className:"w-[350px] bg-transparent text-gray-400 rounded-lg border border-none grid gap-4",children:[(c||d||u)&&(0,s.jsxs)("div",{className:"flex gap-4",children:[c&&(0,s.jsx)("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:" text-gray-400 hover:underline",children:"[twitter]"}),d&&(0,s.jsx)("a",{href:d,target:"_blank",rel:"noopener noreferrer",className:" text-gray-400 hover:underline",children:"[telegram]"}),u&&(0,s.jsx)("a",{href:u,target:"_blank",rel:"noopener noreferrer",className:" text-gray-400 hover:underline",children:"[website]"})]}),(0,s.jsxs)("div",{className:(0,x.Z)("gap-3 h-fit items-start",y?"grid":"flex"),children:[(0,s.jsx)("img",{src:o||M.WE,className:(0,x.Z)("w-32 object-contain cursor-pointer",y&&"w-full"),onClick:()=>w(!y)}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-bold text-sm",children:[n," (ticker: ",r,")"]}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:a})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"text-sm text-gray-400 mb-1",children:["bonding curve progress: ",R,"%"]}),(0,s.jsx)(W,{className:"w-full bg-gray-700",value:R,barColor:"bg-green-300"})]}),(0,s.jsxs)("div",{className:"text-xs text-gray-400",children:["when the market cap reaches $",g()," all the liquidity from the bonding curve will be deposited into Raydium and burned. progression increases as the price goes up.",(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"there are ",(0,f.K)(_).toLocaleString()," ","tokens still available for sale in the bonding curve and there is"," ",(0,S.s)(j).toLocaleString()," SOL in the bonding curve."]}),t.king_of_the_hill_timestamp?(0,s.jsxs)("div",{className:"text-yellow-500 font-bold",children:["\uD83D\uDC51 Crowned king of the hill on"," ",new Date(t.king_of_the_hill_timestamp).toLocaleString()]}):(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsxs)("div",{className:"text-sm text-gray-400",children:["king of the hill progress: ",U,"%"]}),(0,s.jsx)(W,{className:"w-full bg-gray-700",value:U,barColor:"bg-yellow-500"}),(0,s.jsxs)("div",{className:"text-xs text-gray-400",children:["dethrone the current king at a $",b()," mcap"]})]}),(0,s.jsx)(D,{coin:t})]})}W.displayName=z.fC.displayName;let K=()=>{let[e,t]=(0,i.useState)(null),[n,s]=(0,i.useState)(null);return{livestream:e,basicCoin:n,fetchLivestream:async e=>{if(e)try{let n=await fetch("".concat("https://frontend-api.pump.fun","/livestreams/").concat(e),{method:"GET",cache:"no-cache",headers:{"Cache-Control":"no-cache"}}),s=await n.json();t(s)}catch(e){console.log(e)}},getCoinRaw:async(e,t)=>{if(e)try{let n=await fetch("".concat("https://frontend-api.pump.fun","/livestreams/").concat(e,"/raw"),{method:"GET",cache:"no-cache",headers:{"Cache-Control":"no-cache","Content-Type":"application/json",Authorization:"Bearer ".concat(t)}}),a=await n.json();return s(a),a}catch(e){console.log(e)}},getStreamToken:async(e,t)=>{try{return(await fetch("".concat("https://frontend-api.pump.fun","/livestreams/").concat(e,"/stream-token"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})).text()}catch(e){throw Error(e)}},createLivestream:async(e,n)=>{let s=await fetch("".concat("https://frontend-api.pump.fun","/livestreams/create-livestream"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(e)});t(JSON.parse(await s.text()))},updateLivestream:async(e,n)=>{let s=await fetch("".concat("https://frontend-api.pump.fun","/livestreams/update-livestream"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)},body:JSON.stringify(e)});t(JSON.parse(await s.text()))},disableLivestream:async(e,t)=>{await fetch("".concat("https://frontend-api.pump.fun","/livestreams/").concat(e,"/disable-livestream"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})},enableLivestream:async(e,t)=>{await fetch("".concat("https://frontend-api.pump.fun","/livestreams/").concat(e,"/enable-livestream"),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(t)}})}}};function V(e){let{mint:t}=e,{basicCoin:n,getCoinRaw:r,enableLivestream:o,disableLivestream:l}=K(),{loginToken:c}=(0,a.useProfile)(),[d,u]=(0,i.useState)(null==n?void 0:n.is_banned);(0,i.useEffect)(()=>{(async()=>{await r(t,c)})()},[t]),(0,i.useEffect)(()=>{u(null==n?void 0:n.is_banned)},[n]);let h=async()=>{if(window.confirm("Are you sure you want to ban this coin? \nThis action will delete image, description and socials")){let e=await fetch("".concat("https://frontend-api.pump.fun","/coins/ban/").concat(t),{method:"PATCH",headers:{Authorization:"Bearer ".concat(c)}});200===e.status&&(u((await e.json()).is_banned),window.location.reload())}};return n&&(0,s.jsxs)(s.Fragment,{children:[n.livestream_ban_expiry>Date.now()?(0,s.jsx)("button",{className:"p-2 bg-blue-400 rounded",onClick:()=>{o(t,c),window.location.reload()},children:"Enable Livestream"}):(0,s.jsx)("button",{className:"p-2 bg-red-400 rounded",onClick:()=>{l(t,c),window.location.reload()},children:"Disable Livestream"}),(0,s.jsx)("button",{className:"p-2 bg-red-400 rounded disabled:bg-gray-700 disabled:text-gray-500 disabled:cursor-not-allowed",disabled:d,onClick:h,children:d?"Coin Banned":"Ban Coin"})]})}var Z=n(2397),q=n.n(Z),H=n(49237);function J(e){let{isOpen:t,setIsOpen:n,initialWidth:a,initialHeight:r,title:o,children:l}=e,c=a&&r?a/r:1.25,[d,u]=(0,i.useState)(null!=a?a:400),[h,m]=(0,i.useState)(null!=r?r:320),[p,f]=(0,i.useState)(0),[g,x]=(0,i.useState)(0);return(0,s.jsx)("div",{className:"w-1 h-1 absolute top-0 left-0 z-10",children:(0,s.jsx)(G,{modalWidth:d,setModalWidth:u,modalHeight:h,setModalHeight:m,xPosition:p,yPosition:g,setXPosition:f,setYPosition:x,windowPadding:40,aspectRatio:c,className:"bg-white rounded-md overflow-hidden ".concat(t?"block":"hidden"),children:(0,s.jsxs)("div",{className:"w-[100%] h-[100%] flex flex-col rounded-md overflow-hidden",children:[(0,s.jsx)("div",{className:"text-md font-bold ",children:(0,s.jsx)("div",{className:"flex bg-green-300",children:(0,s.jsx)("div",{className:"handle grow select-none truncate overflow-hidden whitespace-nowrap text-black text-center text-md p-1",children:o})})}),(0,s.jsx)("div",{className:"w-full h-full bg-[#2e303a]",children:l})]})})})}n(97767);let G=e=>{let{children:t,windowPadding:n=40,className:a,modalWidth:r,setModalWidth:o,modalHeight:l,setModalHeight:c,xPosition:d,yPosition:u,setXPosition:h,setYPosition:m,aspectRatio:p}=e,[f,g]=(0,i.useState)(window.innerWidth),[x,b]=(0,i.useState)(window.innerHeight);return(0,i.useEffect)(()=>{let e=()=>{g(window.innerWidth),b(window.innerHeight)};return window.addEventListener("resize",e),()=>{window.removeEventListener("resize",e)}},[]),(0,s.jsx)(q(),{bounds:{left:n,right:f-r-n,bottom:x-l-n,top:n},axis:"both",handle:".handle",defaultPosition:{x:f/2-r/2+Math.floor(10*Math.random()),y:x/2-l/2+Math.floor(10*Math.random())},scale:1,onDrag:(e,t)=>{h(t.x),m(t.y)},children:(0,s.jsx)("div",{children:(0,s.jsx)(X,{width:r,setWidth:o,height:l,setHeight:c,xPosition:d,yPosition:u,windowWidth:f,windowPadding:n,className:a,aspectRatio:p,children:t})})})},X=e=>{let{width:t,setWidth:n,height:a,setHeight:r,xPosition:i,yPosition:o,windowWidth:l,children:c,windowPadding:d,className:u,aspectRatio:h}=e,m=l-i-d;return(0,s.jsx)(H.ResizableBox,{axis:"both",width:t,height:a,onResize:(e,t)=>{if(t.size.width>m){n(m-1),setTimeout(()=>{n(m)},10);return}n(t.size.width),window.innerHeight,r(t.size.width/h)},resizeHandles:["se"],minConstraints:[240,192],className:u,children:c})};var Y=n(85754),Q=n(32036),$=n(73920),ee=n(38438),et=n(38339),en=n(29292),es=n(67803),ea=n(4043),er=n(82104),ei=n(62545);async function eo(e,t){let n=JSON.parse(localStorage.getItem("jwt-login-token")||""),s=async()=>{try{let e=await fetch("".concat("https://frontend-api.pump.fun","/livestreams/").concat(t,"/stream-token"),{method:"GET",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}});if(!e.ok)throw Error("Failed to fetch stream token");return await e.text()}catch(e){throw console.error("Could not start livestream"),Error(e)}};try{let n=await s(),a={id:t,name:t,image:"https://getstream.io/random_svg/?id=".concat(t,"&name=").concat(t),type:"authenticated"},r=new Q.GRk({apiKey:"".concat("numvkprvbzpg"),user:a,token:n}),i=r.call("livestream",e);return await i.join({create:!0}),{clientInstance:r,callInstance:i}}catch(e){throw Error("Could not start livestream")}}function el(e){let{coin:t,isOpen:a,setIsOpen:r,isMobile:o}=e,{mint:l,creator:c}=t,[d,u]=(0,i.useState)(null),[h,m]=(0,i.useState)(void 0),[p,f]=(0,i.useState)(!1),[g,x]=(0,i.useState)();(0,i.useEffect)(()=>{!async function(){try{let{clientInstance:e,callInstance:t}=await eo(l,c);u(e),m(t),f(!1)}catch(e){console.error("could not start livestream"),f(!0)}}()},[l,c]);let b=(0,i.useRef)();return(0,i.useEffect)(()=>{let e=(b.current||Promise.resolve()).then(()=>n.e(6362).then(n.bind(n,25013))).then(e=>{let{NoiseCancellation:t}=e;x(new t)});return()=>{b.current=e.then(()=>x(void 0))}},[]),(0,s.jsx)(s.Fragment,{children:d&&h?(0,s.jsx)(Q.hbc,{client:d,children:(0,s.jsx)(Q.N_D,{call:h,children:g?(0,s.jsx)(Q.oiD,{noiseCancellation:g,children:(0,s.jsx)(ec,{mint:l,creator:c,isMobile:o,setIsOpen:r})}):(0,s.jsx)(ec,{mint:l,creator:c,isMobile:o,setIsOpen:r})})}):p?(0,s.jsx)("div",{className:"flex flex-col justify-center items-center",children:(0,s.jsxs)("div",{className:"text-md text-slate-50 text-center",children:["Error creating livestream. ",(0,s.jsx)("br",{})," Click"," ",(0,s.jsx)("a",{href:"javascript:window.location.reload(true)",className:"underline",children:"here to reload"})," ","the page."]})}):(0,s.jsx)("div",{className:"flex flex-col justify-center items-center",children:(0,s.jsx)("div",{className:"text-md text-slate-50",children:(0,s.jsx)(ei.C,{})})})})}let ec=e=>{let{mint:t,creator:n,setIsOpen:r,isMobile:o}=e,{loginToken:l}=(0,a.useProfile)(),c=(0,Q.W7t)(),{useIsCallLive:d,useLocalParticipant:u,useParticipantCount:h,useMicrophoneState:m,useCameraState:p}=(0,Q.dvl)(),f=h(),g=u(),x=d(),{microphone:b,isMute:v}=m(),{camera:y,isEnabled:w}=p(),{livestream:_,fetchLivestream:j,createLivestream:S,updateLivestream:N}=K();async function k(){try{S({mint:t,creator:n,currently_live:!0,stream_start_timestamp:Date.now()},l).then(async()=>{await (null==c?void 0:c.microphone.enable()),await (null==c?void 0:c.goLive())}).catch(e=>{throw Error(e)})}catch(e){console.error("Failed to start livestream",e)}}async function C(){if(window.confirm("All participants will be disconnected.\n\nAre you sure you want to end the stream?"))try{if(await j(t),!_)throw Error("Livestream not found");await N({..._,currently_live:!1,stream_end_timestamp:Date.now(),num_participants:f},l)}catch(e){console.error("Failed to end livestream: ",e)}finally{await (null==c?void 0:c.stopLive()),await (null==c?void 0:c.endCall()),r(!1)}}async function P(){await (null==c?void 0:c.stopLive()),await (null==c?void 0:c.endCall()),r(!1)}return(0,i.useEffect)(()=>{(async()=>{await j(t)})()},[t]),c&&(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("div",{className:"flex-1 handle",children:g&&(0,s.jsx)(Q.xbF,{participant:g,ParticipantViewUI:null})}),(0,s.jsxs)("div",{className:"absolute w-full",children:[(0,s.jsx)("div",{className:"text-xs text-gray-700 text-center bg-orange-400 px-2 w-full",children:"Livestreaming is experimental. Please report any issues to support."}),c?(0,s.jsxs)("div",{className:"flex flex-row bg-[#2e303a]/[0.9] justify-evenly items-center z-10",children:[x?(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex flex-col m-[5px] items-center cursor-pointer",onClick:()=>C(),children:[(0,s.jsx)($.Z,{strokeWidth:1,color:"#ef4444"}),(0,s.jsx)("div",{className:"text-xs text-red-400",children:"End Stream"})]})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsxs)("div",{className:"flex flex-col m-[5px] items-center cursor-pointer",onClick:()=>k(),children:[(0,s.jsx)(ee.Z,{strokeWidth:1,color:"#4ade80"}),(0,s.jsx)("div",{className:"text-xs text-green-400 text-center",children:"Start Stream"})]})}),(0,s.jsxs)("div",{className:"flex flex-col m-[5px] items-center cursor-pointer",onClick:()=>void(w?y.disable():y.enable()),children:[w?(0,s.jsx)(et.Z,{strokeWidth:1,color:"#bcbcbc"}):(0,s.jsx)(en.Z,{strokeWidth:1,color:"#bcbcbc"}),(0,s.jsx)("div",{className:"text-xs text-[#bcbcbc]",children:"Camera"})]}),(0,s.jsxs)("div",{className:"flex flex-col m-[5px] items-center cursor-pointer",onClick:()=>void(v?b.enable():b.disable()),children:[v?(0,s.jsx)(es.Z,{strokeWidth:1,color:"#bcbcbc"}):(0,s.jsx)(ea.Z,{strokeWidth:1,color:"#bcbcbc"}),(0,s.jsx)("div",{className:"text-xs text-[#bcbcbc]",children:"Microphone"})]}),!x&&(0,s.jsxs)("div",{className:"flex flex-col m-[5px] items-center cursor-pointer",onClick:()=>P(),children:[(0,s.jsx)(er.Z,{strokeWidth:1,color:"#bcbcbc"}),(0,s.jsx)("div",{className:"text-xs text-[#bcbcbc]",children:"Close"})]})]}):(0,s.jsx)("div",{className:"flex flex-col justify-center items-center",children:(0,s.jsx)("div",{className:o?"text-sm":"text-md",children:(0,s.jsx)(ei.C,{})})}),function(){if(c)return(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)("div",{className:"m-1 p-1 text-xs text-center text-gray-300 bg-[#2e303a]/[0.5] rounded",children:x?(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"text-sm text-green-400",children:[(0,s.jsx)("span",{className:"text-xs",children:"•"})," Live"]}),(0,s.jsxs)("div",{children:[f," viewers"]})]}):(0,s.jsxs)("div",{className:"text-sm text-red-400",children:[(0,s.jsx)("span",{className:"text-xs",children:"•"})," Not Live"]})})})}()]})]})};var ed=n(13948),eu=n(14645),eh=n(65883);async function em(e){let t=new Q.GRk({apiKey:"".concat("numvkprvbzpg"),user:{type:"anonymous"}}),n=t.call("livestream",e);return n.camera.disable(!0),n.microphone.disable(!0),await n.join(),{clientInstance:t,callInstance:n}}function ep(e){let{coin:t,isMobile:n,setIsOpen:a}=e,{mint:r}=t,[o,l]=(0,i.useState)(null),[c,d]=(0,i.useState)(void 0),[u,h]=(0,i.useState)(!1),[m,p]=(0,i.useState)("");(0,i.useEffect)(()=>{(async function(){let{clientInstance:e,callInstance:t}=await em(r);l(e),d(t)})()},[r]),(0,i.useEffect)(()=>{if(o&&c){null==c||c.on("all",e=>{var t;"call.ended"===e.type&&(null===(t=e.call.session)||void 0===t?void 0:t.live_ended_at)&&(null==c||c.leave(),a(!1))});let e=setInterval(()=>{var e;let t=null===(e=c.state.session)||void 0===e?void 0:e.live_started_at;if(t){let e=Date.now()-new Date(t).valueOf();p("".concat(f(new Date(e).getUTCHours().toString()),":").concat(f(new Date(e).getUTCMinutes().toString()),":").concat(f(new Date(e).getUTCSeconds().toString())))}},1e3);return()=>clearInterval(e)}},[o,c]),(0,i.useEffect)(()=>{let e=document.querySelector("audio");h((null==e?void 0:e.srcObject)instanceof MediaStream&&e.srcObject.active)},[]);let f=(e,t)=>(t=t||2,("00"+e).slice(-t)),g=()=>{var e;null===(e=document.querySelector("audio"))||void 0===e||e.play(),h(!0)},x=()=>{var e;null===(e=document.querySelector("audio"))||void 0===e||e.pause(),h(!1)},b=()=>{u?x():g()},v=async()=>{try{await (null==o?void 0:o.disconnectUser()),await (null==c?void 0:c.leave())}catch(e){console.error("Error leaving stream: ",e)}finally{l(null),d(void 0),x(),a(!1)}};return(0,s.jsx)(s.Fragment,{children:o&&c?(0,s.jsx)(Q.hbc,{client:o,children:(0,s.jsxs)(Q.N_D,{call:c,children:[(0,s.jsxs)("div",{className:"absolute w-full z-[10]",children:[(0,s.jsx)("div",{className:"text-xs text-gray-700 text-center bg-orange-400 px-2 w-full",children:"Livestreaming is experimental. Please report any issues to support."}),(0,s.jsxs)("div",{className:"flex p-1 text-gray-400 text-xs gap-1 z-[20]",children:[(0,s.jsxs)("div",{className:"bg-[#2e303a]/[0.8] rounded h-fit p-1 grid justify-items-center",children:[(0,s.jsxs)("div",{children:[c.state.anonymousParticipantCount," viewers"]}),(0,s.jsx)("div",{children:m})]}),(0,s.jsxs)("div",{className:"cursor-pointer bg-[#2e303a]/[0.8] rounded h-fit grid justify-items-center px-1",onClick:()=>b(),children:[u?(0,s.jsx)(ed.Z,{strokeWidth:1,color:"#bcbcbc"}):(0,s.jsx)(eu.Z,{strokeWidth:1,color:"#bcbcbc"}),(0,s.jsx)("div",{className:"text-xs",children:"Audio"})]}),(0,s.jsxs)("div",{className:"cursor-pointer bg-[#2e303a]/[0.8] rounded h-fit grid justify-items-center px-1",onClick:()=>v(),children:[(0,s.jsx)(eh.Z,{strokeWidth:1,color:"#bcbcbc"}),(0,s.jsx)("div",{className:"text-xs text-[#bcbcbc]",children:"Close"})]})]})]}),(0,s.jsx)("div",{className:"handle",children:(0,s.jsx)(Q.N7B,{showParticipantCount:!1,showDuration:!1,showLiveBadge:!1})})]})}):(0,s.jsx)(s.Fragment,{children:(0,s.jsx)("div",{className:"text-md text-slate-50 text-center p-4",children:(0,s.jsx)(ei.C,{})})})})}function ef(e){let{coin:t,isMobile:n}=e,{livestream:r,fetchLivestream:o,getCoinRaw:l}=K(),{address:c,loginToken:d}=(0,a.useProfile)(),u=c&&c===t.creator,[h,m]=(0,i.useState)(!1),[p,f]=(0,i.useState)(!0);async function g(){let e=(await l(t.mint,d)).livestream_ban_expiry;e<Date.now()?m(!0):alert("You have been banned from creating livestreams till: ".concat(new Date(e).toLocaleTimeString(),"."))}return(0,i.useEffect)(()=>{(async()=>{await o(t.mint)})()},[t.mint]),(0,s.jsxs)(s.Fragment,{children:[u&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y.z,{variant:"ghost",asChild:!0,className:"-mt-5 text-2xl text-slate-50 hover:font-bold hover:bg-transparent hover:text-slate-50",onClick:()=>g(),children:(0,s.jsx)("div",{className:"cursor-pointer",children:"[create livestream]"})}),(0,s.jsx)(J,{isOpen:h,title:"Livestream",initialHeight:n?240:320,initialWidth:n?300:400,children:h&&(0,s.jsx)(el,{coin:t,isOpen:h,setIsOpen:m,isMobile:n})})]}),!u&&(null==r?void 0:r.currently_live)&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(Y.z,{variant:"ghost",asChild:!0,className:"-mt-5 text-2xl text-slate-50 hover:font-bold hover:bg-transparent hover:text-slate-50",onClick:()=>f(!0),children:(0,s.jsx)("div",{className:"cursor-pointer",children:"[join livestream]"})}),(0,s.jsx)(J,{isOpen:p,title:"Livestream",initialHeight:n?240:320,initialWidth:n?300:400,children:p&&(0,s.jsx)(ep,{coin:t,setIsOpen:f,isMobile:n})})]})]})}var eg=n(76308),ex=n(39697),eb=n(3446),ev=n(16691),ey=n.n(ev),ew=n(45179),e_=n(50439);let ej=()=>{let[e,t]=(0,e_._)("front-running-protection",!1);return{frontRunningProtection:e,setFrontRunningProtection:t}},eS=()=>{let[e,t]=(0,e_._)("max-trade-slippage",1);return{slippage:e,setSlippage:e=>{t(Math.min(e||0,25))}}},eN=()=>{let[e,t]=(0,e_._)("tip-amount",.003);return{tipAmount:e,setTipAmount:e=>{t(Math.min(e||0,.05))}}};var ek=n(72471),eC=n(89066),eP=n(76545);let eA=()=>{let[e,t]=(0,i.useState)(!1),{slippage:n,setSlippage:a}=eS(),{tipAmount:r,setTipAmount:o}=eN(),{frontRunningProtection:l,setFrontRunningProtection:c}=ej();return(0,s.jsxs)(F.Vq,{open:e,onOpenChange:e=>t(e),children:[(0,s.jsx)(F.hg,{asChild:!0,children:(0,s.jsx)("button",{className:"text-xs py-1 px-2 rounded text-gray-400 hover:bg-gray-800 bg-primary",children:"Set max slippage"})}),(0,s.jsx)(F.cZ,{className:"bg-primary text-white max-w-[400px]",children:(0,s.jsxs)("div",{className:"grid gap-2 w-fit justify-self-center",children:[(0,s.jsx)("div",{children:"Set max. slippage (%)"}),(0,s.jsx)("input",{className:"bg-[#2a2a3b] border border-slate-200 rounded-md p-2 w-fit",id:"slippage",placeholder:"",type:"number",value:n,onChange:e=>a(e.target.value)}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"This is the maximum amount of slippage you are willing to accept when placing trades"}),n>3&&!l&&(0,s.jsx)("div",{className:"text-xs text-orange-400",children:"warning: setting your slippage too high may result in bots front-running your trades. we highly recommend turning on front-running protection if you have high slippage."}),(0,s.jsxs)("div",{className:"flex gap-1 h-fit items-center text-white",children:[(0,s.jsx)("div",{children:"Enable front-running protection:"}),(0,s.jsx)("div",{onClick:()=>{c(!0),o(Math.max(r,.01))},className:(0,x.Z)("cursor-pointer px-1 rounded",l&&"bg-green-300 text-black",!l&&"hover:bg-gray-800 text-gray-500"),children:"On"}),(0,s.jsx)("div",{onClick:()=>c(!1),className:(0,x.Z)("cursor-pointer px-1 rounded",!l&&"bg-green-300 text-black",l&&"hover:bg-gray-800 text-gray-500"),children:"Off"})]}),l&&(0,s.jsx)("div",{className:"text-xs text-green-400",children:"Front-running protection stops bots from front-running your buys. You can use high slippage with front-running protection turned on. We recommend setting a priority fee of at least 0.01 SOL with front-running protection enabled."}),(0,s.jsxs)("div",{className:"grid gap-2 text-left",children:[(0,s.jsx)("div",{children:"Priority fee"}),(0,s.jsxs)("div",{className:"flex items-center rounded-md relative bg-[#2e303a]",children:[(0,s.jsx)(ew.I,{className:"bg-transparent text-white outline-none w-full pl-3",id:"amount",placeholder:"0.0",type:"number",value:r,onChange:e=>o(e.target.value)}),(0,s.jsxs)("div",{className:"flex items-center ml-2 absolute right-2",children:[(0,s.jsx)("span",{className:"text-white mr-2",children:"SOL"}),(0,s.jsx)(ey(),{className:"w-8 h-8 rounded-full",width:32,height:32,src:"/solana-logo-square.png",alt:"SOL"})]})]}),(!r||r<.003)&&(0,s.jsx)("div",{className:"text-xs text-orange-400",children:"warning: we recommend setting a priority fee greater than 0.003 SOL or your transactions are unlikely to get confirmed."}),(0,s.jsx)("div",{className:"text-xs text-gray-400",children:"A higher priority fee will make your transactions confirm faster. This is the transaction fee that you pay to the solana network on each trade."})]}),(0,s.jsx)("div",{className:"text-slate-50 hover:font-bold hover:text-slate-50 cursor-pointer w-fit justify-self-center",onClick:()=>t(!1),children:"[close]"})]})})]})};var eT=n(5453),eI=n(47788);let eL=new g.PublicKey("srmqPvymJeFKQ4zGQed1GFppgkRHL9kaELCbyksJtPX"),eM=new g.PublicKey("675kPX9MHTjS2zt1qfr1NYHuzeLXfQM9H24wFSUt1Mp8"),eE=new g.PublicKey("TokenkegQfeZyiNwAJbNbGKPFXCWuBvf9Ss623VQ5DA");function eR(e,t,n,s,a){let r=t.baseMint,i=e.baseDecimals,o=t.quoteMint,l=e.quoteDecimals;s||(r=t.quoteMint,i=e.quoteDecimals,o=t.baseMint,l=e.baseDecimals);let c=new ex.WUB(ex._uA,r,i),d=new ex.dtM(c,n,!1),u=new ex.WUB(ex._uA,o,l),h=new ex.gGi(Math.floor(a),100),{amountOut:m,minAmountOut:p,currentPrice:f,executionPrice:g,priceImpact:x,fee:b}=ex.ZpI.computeAmountOut({poolKeys:t,poolInfo:e,amountIn:d,currencyOut:u,slippage:h});return{amountIn:d,amountOut:m,minAmountOut:p,currentPrice:f,executionPrice:g,priceImpact:x,fee:b}}async function eO(e,t){let n=await e.getAccountInfo(t);if(n)return ex.SsU.decode(n.data)}let eB=new g.PublicKey("So11111111111111111111111111111111111111112"),eF=e=>{let{coin:t}=e,[n,a]=(0,i.useState)(),[r,o]=(0,i.useState)(),{signTransaction:l,publicKey:c}=(0,eb.O)(),{connection:d}=(0,k.R)(),[u,h]=(0,i.useState)(),[m,p]=(0,i.useState)(),[x,b]=(0,i.useState)(),[v,y]=(0,i.useState)(!0),[w,_]=(0,i.useState)(),{slippage:j}=eS(),{priorityFee:N,tipAccount:C,useJito:P}=(0,ek.usePriorityFee)(),{toastTransaction:A}=(0,eI.pm)(),{rpcUrl:T}=(0,eC.useRpcUrl)(),{frontRunningProtection:I}=ej(),{tipAmount:L}=eN(),M=async()=>{if(!c)return;let e=(0,O.MO)(new g.PublicKey(t.mint),c,!0);try{let t=await (0,eP.D0)(d,e);_(new(R())(t.amount.toString()))}catch(e){console.error("Failed to fetch user token balance:",e),_(new(R())(0))}},E=async()=>{t.market_id&&h(await eO(d,new g.PublicKey(t.market_id)))},B=async()=>{x&&p(await ex.ZpI.fetchInfo({connection:d,poolKeys:x}))};(0,i.useEffect)(()=>{E()},[t.market_id,d]),(0,i.useEffect)(()=>{if(!t.market_id||!u)return;let e=ex.ZpI.getAssociatedPoolKeys({version:4,marketVersion:3,marketId:new g.PublicKey(t.market_id),baseMint:new g.PublicKey(t.inverted?t.mint:"So11111111111111111111111111111111111111112"),quoteMint:new g.PublicKey(t.inverted?"So11111111111111111111111111111111111111112":t.mint),baseDecimals:t.inverted?9:6,quoteDecimals:t.inverted?6:9,programId:eM,marketProgramId:eL});b({id:e.id,baseMint:e.quoteMint,quoteMint:e.baseMint,lpMint:e.lpMint,baseDecimals:t.inverted?9:6,quoteDecimals:t.inverted?6:9,lpDecimals:6,version:4,programId:eM,authority:e.authority,openOrders:e.openOrders,targetOrders:e.targetOrders,baseVault:e.baseVault,quoteVault:e.quoteVault,withdrawQueue:e.withdrawQueue,lpVault:e.lpVault,marketVersion:4,marketProgramId:eL,marketId:e.marketId,marketAuthority:e.marketAuthority,marketBaseVault:u.baseVault,marketQuoteVault:u.quoteVault,marketBids:u.bids,marketAsks:u.asks,marketEventQueue:u.eventQueue,lookupTableAccount:new g.PublicKey("11111111111111111111111111111111")})},[u]),(0,i.useEffect)(()=>{B();let e=setInterval(()=>{B()},1e4);return()=>clearInterval(e)},[x,d]),(0,i.useEffect)(()=>{M()},[t.mint,c]);let F=(0,i.useMemo)(()=>{if(m&&x)return v&&r&&r>0||!v&&n&&n>0?{raw:eR(m,x,v?Number(r):Number(n),t.inverted?v:!v,j),pretty:eR(m,x,v?Number(r):Number(n),t.inverted?v:!v,0)}:null},[m,x,v,r,n,j]),D=async()=>{if(c&&l&&u&&t.market_id&&x&&m&&F)try{var e;let{amountIn:s,minAmountOut:a}=F.raw,i=(0,O.MO)(new g.PublicKey(t.mint),c,!0),o=await (0,eP.D0)(d,i).catch(e=>null),u=(0,O.MO)(eB,c,!0),h=await (0,eP.D0)(d,u).catch(e=>null),m=[];o&&m.push({pubkey:i,programId:eE,accountInfo:o}),h&&m.push({pubkey:u,programId:eE,accountInfo:h});let p=await fetch(T,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:"1",method:"getPriorityFeeEstimate",params:[{accountKeys:["6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P"]}]})}).then(e=>e.json()),b=await ex.ZpI.makeSwapInstructionSimple({connection:d,makeTxVersion:0,poolKeys:x,userKeys:{tokenAccounts:m,owner:c},amountIn:s,amountOut:a,fixedSide:"in",config:{bypassAssociatedCheck:!1},computeBudgetConfig:{microLamports:Math.max((null==p?void 0:null===(e=p.result)||void 0===e?void 0:e.priorityFeeEstimate)||0,5e5)}}),y=await d.getLatestBlockhash("finalized").then(e=>e.blockhash),w=new g.VersionedTransaction(new g.TransactionMessage({payerKey:c,recentBlockhash:y,instructions:[...b.innerTransactions[0].instructions,C?g.SystemProgram.transfer({fromPubkey:c,toPubkey:new g.PublicKey(C),lamports:Math.floor(1e9*L)}):null].filter(Boolean)}).compileToV0Message()),_=await l(w),j=await (0,eg.T)(_,d,P,I);v?await A({title:"buy ".concat((0,f.K)(F.pretty.amountOut.raw)," ").concat(t.symbol," for ").concat(r," SOL"),signature:j}):await A({title:"sell ".concat(n," ").concat(t.symbol," for ").concat((0,S.s)(F.pretty.amountOut.raw)," SOL"),signature:j})}catch(e){console.error("could not submit trade",e),await A({title:"Could not submit trade",description:null==e?void 0:e.message,status:"error"})}};return(0,s.jsxs)("div",{className:"w-[350px] grid gap-4",children:[(0,s.jsx)("div",{className:"bg-blue-500 p-2 rounded text-white",children:"Trade on raydium via Pump"}),m?(0,s.jsxs)("div",{className:"bg-[#2e303a] p-4 rounded-lg border border-none text-gray-400 grid gap-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2",children:[(0,s.jsx)("button",{onClick:()=>y(!0),className:"p-2 text-center rounded ".concat(v?"bg-green-400 text-primary":"bg-gray-800 text-grey-600"),children:"Buy"}),(0,s.jsx)("button",{onClick:()=>y(!1),className:"p-2 text-center rounded ".concat(v?"bg-gray-800 text-grey-600":"bg-red-400 text-white"),children:"Sell"})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,s.jsx)("div",{}),(0,s.jsx)(eA,{})]}),(0,s.jsxs)("div",{className:"flex items-center rounded-md relative bg-[#2e303a]",children:[(0,s.jsx)(ew.I,{placeholder:"0.0",type:"number",value:v?r:n,className:"bg-transparent text-white outline-none w-full pl-3",onChange:e=>v?o(e.target.value):a(e.target.value)}),(0,s.jsxs)("div",{className:"flex items-center ml-2 absolute right-2",children:[(0,s.jsx)("span",{className:"text-white mr-2",children:v?"SOL":t.symbol}),v?(0,s.jsx)(ey(),{className:"w-8 h-8 rounded-full",width:32,height:32,src:"/solana-logo-square.png",alt:"SOL"}):(0,s.jsx)(eT.default,{className:"w-8 h-8 rounded-full",width:32,height:32,src:t.image_uri,alt:t.name})]})]}),v?(0,s.jsxs)("div",{className:"flex mt-2 bg-[#2e303a] p-1 rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>o(""),className:"text-xs py-1 -ml-1 px-2 rounded bg-primary text-gray-400 hover:bg-gray-800 hover:text-gray-300",children:"reset"}),[1,5,10].map(e=>(0,s.jsxs)("button",{onClick:()=>o(e),className:"text-xs py-1 px-2 ml-1 rounded bg-primary text-gray-400 hover:bg-gray-800 hover:text-gray-300",children:[e," SOL"]},e))]}):(0,s.jsxs)("div",{className:"flex mt-2 bg-[#2e303a] p-1 rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>a(""),className:"text-xs py-1 -ml-1 px-2 rounded bg-primary text-gray-400 hover:bg-gray-800 hover:text-gray-300",children:"reset"}),[25,50,75,100].map(e=>(0,s.jsxs)("button",{className:"text-xs py-1 px-2 ml-1 rounded bg-primary text-gray-400 hover:bg-gray-800 hover:text-gray-300",onClick:()=>a((0,f.K)((null==w?void 0:w.mul(new(R())(e)).div(new(R())(100)))||new(R())(0))),children:[e,"%"]},e))]})]}),v&&F&&(0,s.jsxs)("div",{children:[(0,f.K)(F.pretty.minAmountOut.raw)," ",t.symbol]}),!v&&F&&(0,s.jsxs)("div",{children:[(0,S.s)(F.pretty.minAmountOut.raw)," SOL"]}),(0,s.jsx)(Y.z,{className:"bg-green-400 text-primary w-full py-3 rounded-md hover:bg-green-200",onClick:D,children:"place trade"})]}):(0,s.jsxs)("div",{className:"flex items-center justify-center gap-2 text-white",children:["Loading trade interface",(0,s.jsx)(ei.iT,{color:"white",height:24,width:24})]})]})},eD=()=>{let[e,t]=(0,i.useState)(),n=async()=>{let e=await fetch("".concat("https://frontend-api.pump.fun","/moderation/ban")).then(e=>e.json());e.expires&&t(e)};return(0,i.useEffect)(()=>{n()},[]),{ban:e,fetchBan:n}};var ez=n(55584),eW=n(67133).Buffer;let eU=e=>{let{address:t,loginToken:n}=(0,a.useProfile)(),[s,r]=(0,i.useState)(),[o,l]=(0,i.useState)(),{toastTransaction:c}=(0,eI.pm)(),d=e=>{let t=e.split(".")[1];return JSON.parse(eW.from(t,"base64").toString()).exp<Date.now()/1e3},u=async()=>{try{let n=await fetch("".concat("https://frontend-api.pump.fun","/likes/").concat(e)).then(e=>e.json());if("number"!=typeof(null==n?void 0:n.length))return;r(n),l(null==n?void 0:n.some(e=>{let{user:n}=e;return n===t}))}catch(e){console.error(e)}},h=async()=>{if(!n||d(n)){await c({title:"Failed to like",description:"Connect your wallet to like",status:"error"});return}l(!0),await fetch("".concat("https://frontend-api.pump.fun","/likes/").concat(e),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}),u()},m=async()=>{if(!n||d(n)){await c({title:"Failed to post reply",description:"Connect your wallet to post",status:"error"});return}l(!1),await fetch("".concat("https://frontend-api.pump.fun","/likes/").concat(e),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(n)}}),u()};return{likes:s,fetchLikes:u,like:h,unlike:m,likedByUser:o}},eK=(e,t)=>{let[n,s]=(0,i.useState)([]),[a,r]=(0,i.useState)(!1),o=async()=>{r(!0);try{let n=await fetch("".concat("https://frontend-api.pump.fun","/replies/").concat(e,"?").concat(t?"user=".concat(t):"")).then(e=>e.json());n.forEach(e=>{let t;let s=/#(\d+)/g;for(;null!==(t=s.exec(e.text));){let s=parseInt(t[1],10),a=n.find(e=>e.id===s);a&&(a.mentions||(a.mentions=[]),a.mentions.includes(e.id)||a.mentions.push(e.id))}}),s(n)}catch(e){console.error("failed to fetch replies",e)}finally{r(!1)}};return(0,i.useEffect)(()=>{o()},[e,t]),{replies:n,loading:a,fetchReplies:o}};var eV=n(85429),eZ=n(69394),eq=n(17810);let eH=e=>{let{onSubmit:t,isOpen:n,onOpenChange:a,openCommentModal:o,text:l,children:c,defaultText:d,isTrade:u,ban:h}=e,m=(0,i.useRef)(null),[p,f]=(0,i.useState)(d),[g,x]=(0,i.useState)(),[b,v]=(0,i.useState)(!1),{executeV3:y,isLoading:w}=(0,r.xX)();return(0,i.useEffect)(()=>{f(d),setTimeout(()=>{let e=m.current;if(e){let t=e.value.length;e.setSelectionRange(t,t),e.focus()}},200)},[d]),(0,s.jsxs)(F.Vq,{open:n,onOpenChange:e=>{a(e),f(void 0)},children:[c,(0,s.jsxs)(F.cZ,{className:"bg-primary text-white",children:[h&&h.expires>Date.now()?(0,s.jsxs)("div",{children:["You have been banned from replying because you posted too much spam. Your ban expires on ",new Date(h.expires).toLocaleString(),(0,s.jsx)("br",{}),(0,s.jsx)("br",{}),"If you think this was a mistake please reach out to us in the support chat and we can unban you."]}):(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{className:"grid gap-2",children:[(0,s.jsx)("label",{className:"mb-1 text-sm font-semibold text-blue-400",htmlFor:"text",children:"add a comment"}),(0,s.jsx)("textarea",{ref:m,className:"bg-[#2a2a3b] border border-slate-200 rounded-md p-2 h-24",id:"text",placeholder:u?"(optional)":"comment",value:p,onChange:e=>f(e.target.value)}),!u&&(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsx)("label",{className:"mb-1 text-sm font-semibold text-blue-400",htmlFor:"image",children:"image (optional)"}),(0,s.jsx)("input",{className:"bg-[#2a2a3b] border border-slate-200 rounded-md p-2 w-full",id:"image",type:"file",accept:"image/*",onChange:e=>x(e.target.files[0])})]})]}),l&&(0,s.jsx)("div",{children:l}),(0,s.jsx)(Y.z,{className:"bg-green-400 text-primary w-full py-3 rounded-md hover:bg-green-200",disabled:b,onClick:async()=>{v(!0);try{let e;p&&y&&(e=await y("submit")),await t(p,g,e),f(""),x(void 0),a(!1)}catch(e){console.error("Failed to submit comment",e)}finally{v(!1)}},children:b?(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsx)("div",{children:"submitting"}),(0,s.jsx)(ei.iT,{color:"black",height:16,width:16})]}):u?"place trade":"post reply"})]}),(0,s.jsx)("div",{className:"text-slate-50 hover:font-bold hover:text-slate-50 cursor-pointer w-fit justify-self-center",onClick:()=>a(!1),children:"[cancel]"})]})]})};var eJ=n(11400),eG=n(67133).Buffer;let eX=e=>{let{reply:t,openCommentModal:n,setHoveredId:r,hoveredId:o,isAdmin:l,fetchReplies:c,devAddress:d}=e,{text:u,user:h,id:m,file_uri:p,timestamp:f,mint:b,mentions:v,total_likes:y,profile_image:w,username:_,liked_by_user:j,signature:S,sol_amount:N,is_buy:k}=t,[C,P]=(0,i.useState)(!1),{ipfsPrefix:A}=(0,eV.useIpfsPrefix)(),{loginToken:T}=(0,a.useProfile)(),{likes:I,like:L,unlike:M,likedByUser:E}=eU(m),[R,O]=(0,i.useState)(!1),B=null==p?void 0:p.replace("https://cf-ipfs.com/ipfs/",A),F=async(e,t)=>{await fetch("".concat("https://frontend-api.pump.fun","/moderation/mark-as-hidden/").concat(e),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(T)},body:JSON.stringify({hidden:t})}),await c()},D=async(e,t)=>{await fetch("".concat("https://frontend-api.pump.fun","/moderation/ban/").concat(e),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(T)},body:JSON.stringify({expires:t})}),await c()},z="boolean"==typeof E?E:j;return(0,s.jsxs)("div",{id:"p"+m.toString(),className:(0,x.Z)("bg-[#2e303a] p-1 text-slate-200 text-sm grid gap-1 overflow-auto",o==m.toString()&&"bg-green-800",R&&"animate-shake"),children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-2 text-slate-400 text-xs items-start w-full",children:[(0,s.jsx)(eJ.UserPreview,{username:_,profile_image:w,address:h,devAddress:d,withBackground:!0}),(0,s.jsx)("div",{children:Date.now()-864e5>f?new Date(f).toLocaleDateString():new Date(f).toLocaleTimeString()}),(0,s.jsxs)("div",{className:(0,x.Z)("flex items-center gap-2 w-fit hover:text-red-500 hover:stroke-red-500 cursor-pointer",z&&"text-red-500"),onClick:()=>{O(!0),setTimeout(()=>O(!1),700),z?M():L()},children:[z?(0,s.jsx)(eZ.rgF,{height:16,width:16}):(0,s.jsx)(eq.Z,{height:16,width:16}),(0,s.jsx)("div",{children:I?I.length:y})]}),(0,s.jsxs)("div",{className:"cursor-pointer justify-self-end hover:underline",onClick:()=>n("#"+m.toString()+" "),children:["#",m," [reply]"]}),null!=N&&(0,s.jsxs)("a",{href:"https://solscan.io/tx/".concat(S),target:"_blank",rel:"noreferrer",className:(0,x.Z)("rounded px-1 text-black hover:underline",k?"bg-green-300":"bg-red-300"),children:[k?"bought":"sold"," ",(N/g.LAMPORTS_PER_SOL).toFixed(4).toString()," SOL"]})]}),v&&(0,s.jsxs)("div",{className:"flex gap-1 text-slate-400 text-xs",children:["Mentions:"," ",v.map(e=>(0,s.jsxs)("a",{href:"#p".concat(e),className:"hover:underline text-green-300",onClick:()=>r(e),onMouseEnter:()=>r(e),children:["#",e]},e))]}),(0,s.jsxs)("div",{className:(0,x.Z)("flex gap-2 items-start",C&&"flex-col"),children:[B&&(0,s.jsx)("img",{src:B,onClick:()=>P(!C),className:(0,x.Z)("w-32 object-contain cursor-pointer max-h-[500px]",C&&"w-full max-h-none")}),(0,s.jsx)("div",{children:(e=>{let t=[],n=0;return e.replace(/#(\d+)/g,(a,i,o)=>(o>n&&t.push(e.substring(n,o)),t.push((0,s.jsxs)("a",{href:"#p".concat(i),className:"text-green-300 font-bold hover:underline",onMouseEnter:()=>r(i),onClick:()=>r(i),children:["#",i]},i)),n=o+a.length,"")),n<e.length&&t.push(e.substring(n)),t})(t.text)})]}),(0,s.jsxs)("div",{className:"flex gap-2",children:[l&&(0,s.jsx)("button",{className:"p-2 bg-red-400 rounded w-fit",onClick:()=>F(m,!0),children:"Delete"}),l&&(0,s.jsx)("button",{className:"p-2 bg-orange-400 rounded w-fit",onClick:()=>D(m,Date.now()+144e5),children:"Ban"})]})]})},eY=e=>{let{coin:t}=e,[n,r]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),{loginToken:c,address:d}=(0,a.useProfile)(),{replies:u,fetchReplies:h}=eK(t.mint,d),[m,p]=(0,i.useState)(""),[f,g]=(0,i.useState)(),{toastTransaction:b}=(0,eI.pm)(),{isAdmin:v}=(0,ez.c)(d),{ban:y}=eD(),w=async(e,t,n)=>{let s;if(e&&n){if(!c||(e=>{let t=e.split(".")[1];return JSON.parse(eG.from(t,"base64").toString()).exp<Date.now()/1e3})(c)){await b({title:"Failed to post reply",description:"Connect your wallet to post",status:"error"});return}if(t){let e=new FormData;e.append("file",t);let n=await fetch("/api/ipfs-file",{method:"POST",body:e});s=await n.json().then(e=>e.fileUri)}await fetch("".concat("https://frontend-api.pump.fun","/replies"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c)},body:JSON.stringify({fileUri:s,text:e,mint:k,token:n})}),await h()}},{name:_,description:j,symbol:S,image_uri:N,mint:k,username:C,profile_image:P,creator:A,created_timestamp:T}=t;return(0,s.jsxs)("div",{className:"text-slate-300 grid gap-1 relative",children:[u.length>4&&(0,s.jsx)("div",{className:"hover:underline cursor-pointer text-slate-300 w-fit text-sm",onClick:()=>{window.scrollTo(0,document.body.scrollHeight)},children:"[scroll to bottom]"}),(0,s.jsxs)("div",{className:"gap-1 grid h-fit bg-[#2e303a] p-1 text-sm",children:[(0,s.jsxs)("div",{className:"flex gap-1 text-xs",children:[(0,s.jsx)(eJ.UserPreview,{username:C,profile_image:P,address:A,withBackground:!0,devAddress:A}),(0,s.jsx)("div",{className:"text-slate-400",children:new Date(T).toLocaleString()})]}),(0,s.jsxs)("div",{className:(0,x.Z)("relative items-start gap-3 text-slate-300 text-xs overflow-auto",n?"grid":"flex"),children:[(0,s.jsx)("img",{src:N||M.WE,className:(0,x.Z)("w-32 object-contain cursor-pointer",n&&"w-full"),onClick:()=>r(!n)}),(0,s.jsxs)("div",{className:"grid",children:[(0,s.jsxs)("div",{className:"font-bold text-sm",children:[_," (ticker: ",S,")"]}),(0,s.jsx)("div",{children:j})]})]})]}),u.map(e=>(0,s.jsx)(eX,{reply:e,devAddress:t.creator,isAdmin:v,hoveredId:f,setHoveredId:g,fetchReplies:h,openCommentModal:e=>{l(!0),p(e)}},e.id)),u.length>4&&(0,s.jsx)("div",{className:"hover:underline cursor-pointer text-slate-300 w-fit absolute left-0 bottom-0 text-sm",onClick:()=>{window.scrollTo(0,0)},children:"[scroll to top]"}),(0,s.jsx)(eH,{isOpen:o,onOpenChange:l,openCommentModal:()=>l(!0),defaultText:m,onSubmit:w,ban:y,children:(0,s.jsx)("div",{className:"justify-self-center hover:underline cursor-pointer",onClick:()=>{p(""),l(!0)},children:"[Post a reply]"})})]})};var eQ=n(82699);let e$=(e,t)=>{let[n,s]=(0,i.useState)(),[a,r]=(0,i.useState)(),[o,l]=(0,i.useState)(),{connection:c}=(0,k.R)(),d=async()=>{if(!e||!t)return;let n=new g.PublicKey(e),s=new g.PublicKey(t);l(await (0,O.Am)(n,s))};async function u(){if(o)try{let e=await c.getTokenAccountBalance(o);s(e.value.uiAmount||0),r(new(R())(e.value.amount))}catch(e){console.error("Error fetching token balance:",e)}}return(0,i.useEffect)(()=>{d()},[t,e]),(0,i.useEffect)(()=>{if(!o)return;u();let e=c.onAccountChange(o,async e=>{let t=eP.p0.decode(e.data);s(Number((t.amount/BigInt(1e6)).toString())),r(new(R())(t.amount.toString()))},"confirmed");return()=>{c.removeAccountChangeListener(e)}},[o]),{tokenBalance:n,fetchTokenBalance:u,rawTokenBalance:a}};var e0=n(46854);function e1(e){let{title:t,holders:n,logo:r,description:o,coin:l,showInput:c}=e,[d,u]=(0,i.useState)(!0),[h,m]=(0,i.useState)(),[p,f]=(0,i.useState)(),{global:x,globalPDA:b}=(0,C.O)(),{slippage:v}=eS(),{loginToken:y,address:w}=(0,a.useProfile)(),{tipAmount:_}=eN(),{bondingCurve:j,loading:A,buyQuote:L,sellQuote:M}=I(l),{pumpProgram:E}=T(),R=(0,P.z)(),{connection:B}=(0,k.R)(),{signTransaction:F,publicKey:D}=(0,eb.O)(),{solBalance:z}=(0,eQ.h)(null==D?void 0:D.toBase58()),{tokenBalance:W,rawTokenBalance:U}=e$(l.mint,null==D?void 0:D.toBase58()),{toastTransaction:K}=(0,eI.pm)(),[V,Z]=(0,i.useState)(!1),[q,H]=(0,i.useState)(!0),[J,G]=(0,i.useState)(!1),{priorityFee:X,tipAccount:Q,useJito:$}=(0,ek.usePriorityFee)(),{frontRunningProtection:ee}=ej(),et=q?new N.BN(Math.floor(1e9*(p||0))):new N.BN(Math.floor(h||0).toString()).mul(new N.BN("1000000")),en=async(e,t,n)=>{console.log(await fetch("https://frontend-api.pump.fun/replies",{method:"POST",body:JSON.stringify({text:e,signature:t,mint:l.mint,token:n}),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(y)}}))},es=async e=>{if(!U)return;let t=U.mul(new N.BN(e)).div(new N.BN(100));m(t.toNumber()/1e6);let n=M(t);f((0,S.s)(n))},ea=async()=>{if(!R){K({title:"wallet not connected",description:"please connect your wallet to place a trade.",status:"error"});return}if(!h||h<=0){K({title:"invalid amount",description:"please enter a valid amount to trade.",status:"error"});return}G(!0)},er=async(e,t)=>{try{if(!h||!j||!E||!x||!b||!R||!F||!D)return;let n=new N.BN(0),s=new N.BN(0);if(q){if(n=L(et,!0),s=et,!x)return;let e=s.mul(x.feeBasisPoints).div(new N.BN(1e4));s=s.add(e)}else s=L(et,!1),n=et;let a=(0,O.MO)(new g.PublicKey(l.mint),R.publicKey,!0),r=await (0,eP.D0)(B,a).catch(e=>null),i=await E.methods.buy(n,s.add(s.mul(new N.BN(Math.floor(10*v))).div(new N.BN(1e3)))).accounts({feeRecipient:x.feeRecipient,global:b,mint:l.mint,bondingCurve:l.bonding_curve,associatedBondingCurve:l.associated_bonding_curve,associatedUser:a,user:R.publicKey}).instruction(),o=await B.getLatestBlockhash("finalized").then(e=>e.blockhash),c=new g.VersionedTransaction(new g.TransactionMessage({payerKey:D,recentBlockhash:o,instructions:[g.ComputeBudgetProgram.setComputeUnitLimit({units:1e5}),Q?g.SystemProgram.transfer({fromPubkey:R.publicKey,toPubkey:new g.PublicKey(Q),lamports:Math.floor(1e9*_)}):null,ee?null:g.ComputeBudgetProgram.setComputeUnitPrice({microLamports:X}),r?null:(0,e0.Ek)(R.publicKey,a,R.publicKey,new g.PublicKey(l.mint)),i].filter(e=>null!==e)}).compileToV0Message()),d=await F(c),u=await (0,eg.T)(d,B,$,ee);e&&t&&en(e,u,t),m(""),await K({title:"buy ".concat(h," ").concat(l.symbol," for ").concat((0,S.s)(s)," SOL"),signature:u})}catch(e){console.error("could not submit buy",e),await K({title:"Could not submit buy",description:null==e?void 0:e.message,status:"error"})}},ei=async(e,t)=>{try{if(!h||!j||!E||!x||!b||!R||!F||!D)return;let n=(0,O.MO)(new g.PublicKey(l.mint),R.publicKey,!0),s=M(et),a=await E.methods.sell(et,s.sub(s.mul(new N.BN(Math.floor(10*v))).div(new N.BN(1e3)))).accounts({feeRecipient:x.feeRecipient,global:b,mint:l.mint,bondingCurve:l.bonding_curve,associatedBondingCurve:l.associated_bonding_curve,associatedUser:n,user:R.publicKey}).instruction(),r=await B.getLatestBlockhash("finalized").then(e=>e.blockhash),i=new g.VersionedTransaction(new g.TransactionMessage({payerKey:D,recentBlockhash:r,instructions:[g.ComputeBudgetProgram.setComputeUnitLimit({units:1e5}),Q?g.SystemProgram.transfer({fromPubkey:R.publicKey,toPubkey:new g.PublicKey(Q),lamports:Math.floor(1e9*_)}):null,g.ComputeBudgetProgram.setComputeUnitPrice({microLamports:X}),a].filter(e=>null!==e)}).compileToV0Message()),o=await F(i),c=await (0,eg.T)(o,B,$,!1);e&&t&&en(e,c,t),m(""),K({title:"sell ".concat(h," ").concat(l.symbol," for ").concat((0,S.s)(s)," SOL"),signature:c})}catch(e){console.error("could not submit sell",e),await K({title:"Could not submit sell",description:null==e?void 0:e.message,status:"error"})}},eo=e=>{f(e),m(L(new N.BN(Math.floor(1e9*e)),!0).toNumber()/1e6)},el=async(e,t,n)=>{d?await er(e,n):await ei(e,n)},ec=e=>{u(e),Z(!0),m(""),f(""),e?H(!0):H(!1),setTimeout(()=>{Z(!1)},0)};return(0,s.jsx)("div",{className:"w-[350px] grid gap-4",children:c&&(0,s.jsxs)("div",{className:"bg-[#2e303a] p-4 rounded-lg border border-none text-gray-400 grid gap-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[(0,s.jsx)("button",{onClick:()=>ec(!0),className:"p-2 text-center rounded ".concat(d?"bg-green-400 text-primary":"bg-gray-800 text-grey-600"),children:"Buy"}),(0,s.jsx)("button",{onClick:()=>ec(!1),className:"p-2 text-center rounded ".concat(d?"bg-gray-800 text-grey-600":"bg-red-400 text-white"),children:"Sell"})]}),(0,s.jsxs)("div",{className:"flex justify-between w-full gap-2",children:[d?(0,s.jsxs)("button",{onClick:()=>H(!q),className:"text-xs py-1 px-2 rounded ".concat("bg-primary text-gray-400 hover:bg-gray-800 hover:text-gray-300"),children:["switch to ",q?l.symbol:"SOL"]}):(0,s.jsx)("div",{}),(0,s.jsx)(eA,{})]}),(0,s.jsxs)("div",{className:"flex flex-col",children:[(0,s.jsxs)("div",{className:"flex items-center rounded-md relative bg-[#2e303a]",children:[(0,s.jsx)(ew.I,{className:"bg-transparent text-white outline-none w-full pl-3",id:"amount",placeholder:"0.0",type:"number",value:d&&q?p:h,onChange:q?e=>{if(V)return;let t=parseFloat(e.target.value);if(isNaN(t)){f(""),m("");return}f(t),m(L(new N.BN(Math.floor(1e9*t)),!0).toNumber()/1e6)}:e=>{let t;if(V)return;let n=parseFloat(e.target.value);if(isNaN(n)){m(""),f("");return}m(n);let s=new N.BN(1e6*n);t=d?L(s,!1):M(s),f((0,S.s)(t))}}),(0,s.jsxs)("div",{className:"flex items-center ml-2 absolute right-2",children:[(0,s.jsx)("span",{className:"text-white mr-2",children:q?"SOL":l.symbol}),q?(0,s.jsx)(ey(),{className:"w-8 h-8 rounded-full",width:32,height:32,src:"/solana-logo-square.png",alt:"SOL"}):(0,s.jsx)(eT.default,{className:"w-8 h-8 rounded-full",width:32,height:32,src:l.image_uri,alt:l.name})]})]}),d&&q&&(0,s.jsxs)("div",{className:"flex mt-2 bg-[#2e303a] p-1 rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>eo(""),className:"text-xs py-1 -ml-1 px-2 rounded bg-primary text-gray-400 hover:bg-gray-800 hover:text-gray-300",children:"reset"}),(0,s.jsx)("button",{onClick:()=>eo(1),className:"text-xs py-1 px-2 ml-1 rounded bg-primary text-gray-400 hover:bg-gray-800 hover:text-gray-300",children:"1 SOL"}),(0,s.jsx)("button",{onClick:()=>eo(5),className:"text-xs py-1 px-2 ml-1 rounded bg-primary text-gray-400 hover:bg-gray-800 hover:text-gray-300",children:"5 SOL"}),(0,s.jsx)("button",{onClick:()=>eo(10),className:"text-xs py-1 px-2 ml-1 rounded bg-primary text-gray-400 hover:bg-gray-800 hover:text-gray-300",children:"10 SOL"})]}),!!(d&&q&&z&&p&&z<1e9*p)&&z&&(0,s.jsxs)("div",{className:"text-red-400 text-sm",children:["Insufficient balance: You have ",z/1e9," SOL"]}),!!(!d&&U&&h&&U.lt(new N.BN(h).mul(new N.BN(1e6))))&&z&&(0,s.jsxs)("div",{className:"text-red-400 text-sm mt-1",children:["Insufficient balance: You have ",W," ",l.symbol]}),!d&&(0,s.jsxs)("div",{className:"flex mt-2 bg-[#2e303a] p-1 rounded-lg",children:[(0,s.jsx)("button",{onClick:()=>es(0),className:"text-xs py-1 -ml-1 px-2 rounded bg-primary text-gray-400 hover:bg-gray-800 hover:text-gray-300",children:"reset"}),(0,s.jsx)("button",{onClick:()=>es(25),className:"text-xs py-1 px-2 ml-1 rounded bg-primary text-gray-400 hover:bg-gray-800 hover:text-gray-300",children:"25%"}),(0,s.jsx)("button",{onClick:()=>es(50),className:"text-xs py-1 px-2 ml-1 rounded bg-primary text-gray-400 hover:bg-gray-800 hover:text-gray-300",children:"50%"}),(0,s.jsx)("button",{onClick:()=>es(75),className:"text-xs py-1 px-2 ml-1 rounded bg-primary text-gray-400 hover:bg-gray-800 hover:text-gray-300",children:"75%"}),(0,s.jsx)("button",{onClick:()=>es(100),className:"text-xs py-1 px-2 ml-1 rounded bg-primary text-gray-400 hover:bg-gray-800 hover:text-gray-300",children:"100%"})]})]}),!!Number(h||p||0)&&(0,s.jsx)("span",{className:"text-sm text-gray-400",children:d&&q?"".concat(h||0," ").concat(l.symbol):"".concat(p||0," SOL")}),(0,s.jsx)(eH,{onSubmit:el,isOpen:J,onOpenChange:e=>G(e),openCommentModal:ea,isTrade:!0,text:d?"buy ".concat(h||0," ").concat(l.symbol," for ").concat(p||0," SOL"):"sell ".concat(h||0," ").concat(l.symbol," for ").concat(p||0," SOL"),children:(0,s.jsx)(Y.z,{onClick:ea,className:"bg-green-400 text-primary w-full py-3 rounded-md hover:bg-green-200",children:"place trade"})})]})})}let e4=e=>{let{mint:t,limit:n,offset:s}=e,[a,r]=(0,i.useState)([]),[o,l]=(0,i.useState)(!1),c=async()=>{l(!0),r(await fetch("".concat("https://frontend-api.pump.fun","/trades/").concat(t,"?limit=").concat(n,"&offset=").concat(s)).then(e=>e.json())),l(!1)};return(0,i.useEffect)(()=>{c()},[t,s,n]),{trades:a,loading:o,fetchTrades:c}},e2=e=>{let{mint:t,userId:n,limit:s,offset:a}=e,[r,o]=(0,i.useState)([]),[l,c]=(0,i.useState)(!1);return{trades:r,loading:l,fetchTrades:async()=>{c(!0),o(await fetch("".concat("https://frontend-api.pump.fun","/trades/").concat(t,"/").concat(n,"?limit=").concat(s,"&offset=").concat(a)).then(e=>e.json())),c(!1)}}},e5=e=>{let{mint:t,userId:n}=e,[s,a]=(0,i.useState)(0),[r,o]=(0,i.useState)(!1);return{trades:s,loading:r,fetchTrades:async()=>{o(!0),a(await fetch("".concat("https://frontend-api.pump.fun","/trades/").concat(t,"/").concat(n,"/count")).then(e=>e.json())),o(!1)}}};var e3=n(30282),e6=n(31095),e8=n(19241),e7=n(92376);let e9=i.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(e7.fC,{className:(0,M.cn)("peer inline-flex h-4 w-11 shrink-0 cursor-pointer items-center rounded border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 focus-visible:ring-offset-white disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-green-300 data-[state=unchecked]:bg-slate-500 dark:focus-visible:ring-slate-300 dark:focus-visible:ring-offset-slate-950 dark:data-[state=checked]:bg-slate-50 dark:data-[state=unchecked]:bg-slate-800",n),...a,ref:t,children:(0,s.jsx)(e7.bU,{className:(0,M.cn)("pointer-events-none block h-3 w-5 rounded-[.2rem] bg-white shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0 dark:bg-slate-950")})})});e9.displayName=e7.fC.displayName;let te={who_are_you:"lightgreen","10cent_whale":"lightblue",accumulator:"lightyellow",chart_shark:"lightcoral",baron_von_pump:"plum"},tt=e=>{let t=parseFloat(e);return t>=1e9?(t/1e9).toFixed(2)+"b":t>=1e6?(t/1e6).toFixed(2)+"m":t>=1e4?(t/1e3).toFixed(2)+"k":t>=1?t.toFixed(2):t.toString()},tn=e=>e<1e-4?e.toExponential(2):e.toFixed(4),ts=e=>{let{trade:t,animate:n,formatDate:a,devAddress:r}=e,{signature:i,sol_amount:o,token_amount:l,is_buy:c,user:d,timestamp:u,mint:h,value:m,username:p,profile_image:g}=t,x=c?"text-green-300":"text-red-300";return te[m||"who_are_you"],(0,e3.Q)(d.slice(0,6)),(0,s.jsxs)("div",{className:"text-xs my-1 bg-[#2e303a] rounded-lg grid grid-cols-4 sm:grid-cols-6 items-start ".concat(n?"animate-shake":""),children:[(0,s.jsx)("div",{className:"py-3 pl-2 text-left flex items-center flex-wrap",style:{wordBreak:"break-all"},children:(0,s.jsx)(eJ.UserPreview,{username:p,profile_image:g,address:d,withBackground:!0})}),(0,s.jsx)("div",{className:"p-3 text-left ".concat(x," hidden sm:block"),children:c?"buy":"sell"}),(0,s.jsx)("div",{className:"p-3 text-left sm:flex sm:items-center sm:hidden ".concat(x),children:(0,s.jsx)("span",{children:"".concat(c?"buy":"sell","  ").concat(a(u).slice(0,-4))})}),(0,s.jsx)("div",{className:"p-3 text-left overflow-hidden whitespace-nowrap",children:tn((0,S.s)(new N.BN(o)))}),(0,s.jsx)("div",{className:"p-3 text-left overflow-hidden whitespace-nowrap",children:tt((0,f.K)(l).toString())}),(0,s.jsx)("div",{className:"p-3 text-left hidden md:block",children:a(u)}),(0,s.jsx)("a",{href:"https://solscan.io/tx/".concat(i),target:"_blank",rel:"noopener noreferrer",className:"hidden sm:block text-right p-3 hover:text-blue-500 hover:underline",children:i.slice(0,6)})]})};function ta(e){let{coin:t}=e,{address:n}=(0,a.useProfile)(),[r,o]=(0,i.useState)(!1),{trades:c,fetchTrades:d}=e5({mint:t.mint,userId:n}),[u,h]=(0,i.useState)(0),{trades:m}=e4({mint:t.mint,limit:200,offset:u}),{trades:p,fetchTrades:f}=e2({mint:t.mint,userId:n,limit:200,offset:u}),[g,x]=(0,i.useState)([]),[b,v]=(0,i.useState)([]),[y,w]=(0,i.useState)(!0),[_,j]=(0,i.useState)(null),S=(0,l.useSocket)();(0,i.useEffect)(()=>{if(!S)return;let e=e=>{j(e)};return S.on("tradeCreated:".concat(t.mint),e),()=>{S.off("tradeCreated:".concat(t.mint),e)}},[S]),(0,i.useEffect)(()=>{p&&r?x(p):m&&x(m)},[p,m]),(0,i.useEffect)(()=>{_&&t.mint===_.mint&&(x(e=>[_,...e]),v([_.signature]),setTimeout(()=>{v([])},500))},[_]);let N=e=>{if(y||e6.tq){let t=Math.max(1,Math.floor((Date.now()-new Date(1e3*e).getTime())/1e3)),n=Math.floor(t/60),s=Math.floor(n/60),a=Math.floor(s/24);return a>0?"".concat(a,"d ago"):s>0?"".concat(s,"h ago"):n>0?"".concat(n,"m ago"):"".concat(t,"s ago")}{let t=new Date(1e3*e),n=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"][t.getMonth()],s=t.getDate(),a=t.getHours(),r=t.getMinutes(),i=t.getSeconds();return"".concat(n," ").concat(s," ").concat(a%12||12,":").concat(r<10?"0".concat(r):r,":").concat(i<10?"0".concat(i):i," ").concat(a>=12?"pm":"am")}};(0,i.useEffect)(()=>{d()},[]);let k=e=>{f(),o(e)};return(0,s.jsxs)("div",{className:"w-full text-xs sm:text-sm text-gray-400 bg-transparent rounded-lg",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-3",children:[(0,s.jsx)("label",{htmlFor:"tradesByFollowing",children:"Filter by following"}),(0,s.jsx)(e9,{id:"tradesByFollowing",checked:r,onCheckedChange:e=>k(e),disabled:!n})," ",n?"(".concat(c," trades from people you follow)"):"connect your wallet to filter"]}),(0,s.jsxs)("div",{className:"bg-[#2e303a] rounded-lg grid grid-cols-4 sm:grid-cols-6",children:[(0,s.jsx)("div",{className:"col-span-1 p-3 font-normal text-left",children:"account"}),(0,s.jsx)("div",{className:"col-span-1 p-3 font-normal text-left hidden sm:block",children:"type"}),(0,s.jsx)("div",{className:"col-span-1 p-3 font-normal text-left sm:hidden",children:"txn"}),(0,s.jsx)("div",{className:"col-span-1 p-3 font-normal text-left",children:"SOL"}),(0,s.jsx)("div",{className:"col-span-1 p-3 font-normal text-left",children:t.symbol}),(0,s.jsx)("div",{className:"col-span-1 p-3 font-normal text-left hidden md:block",children:(0,s.jsxs)("div",{className:"flex items-center",children:["date"," ",(0,s.jsx)("button",{className:"ml-1 inline-block align-middle hover:text-gray-300",onClick:e=>{e.stopPropagation(),w(!y)},children:(0,s.jsx)(e8.dm5,{style:{position:"relative",top:"1px"},className:"cursor-pointer"})})]})}),(0,s.jsx)("div",{className:"col-span-1 p-3 font-normal text-right hidden sm:block",children:"transaction"})]}),null==g?void 0:g.map((e,n)=>(0,s.jsx)(ts,{trade:e,animate:b.includes(e.signature),formatDate:N,devAddress:t.creator},n)),(0,s.jsx)("div",{className:"w-full flex justify-center mt-4",children:(0,s.jsx)("div",{className:"justify-self-end mb-20",children:(0,s.jsxs)("div",{className:"flex justify-center space-x-2 text-slate-50",children:[(0,s.jsx)("button",{disabled:0==u,onClick:()=>h(u-200),className:"text-sm ".concat(0==u?"text-slate-400 cursor-not-allowed":"text-slate-50 hover:font-bold hover:bg-transparent hover:text-slate-50"),children:"[ << ]"}),(0,s.jsx)("span",{children:Math.ceil(u/200)+1}),(0,s.jsx)("button",{disabled:(null==m?void 0:m.length)%200!=0,onClick:()=>h(u+200),className:"text-sm ".concat((null==m?void 0:m.length)%200!=0||(null==m?void 0:m.length)==0?"text-slate-400 cursor-not-allowed":"text-slate-50 hover:font-bold hover:bg-transparent hover:text-slate-50"),children:"[ >> ]"})]})})})]})}var tr=e=>{let{str:t,children:n,className:a}=e,{toast:r,dismiss:i}=(0,eI.pm)();return(0,s.jsx)("button",{className:(0,x.Z)(" cursor-pointer",a),onClick:()=>{navigator.clipboard.writeText(t),r({type:"foreground",title:"Content copied to clipboard"}),setTimeout(()=>{i()},2e3)},children:n||"Copy"})};let ti=e=>{let[t,n]=(0,i.useState)([]),s=(0,i.useRef)(null),a=(0,i.useRef)(!0),r=(0,i.useRef)(!1),o=(0,i.useRef)(1),l=(0,i.useRef)(new Map),c=(0,i.useCallback)(async(t,i)=>{if(a.current&&!r.current){r.current=!0;try{let l=await fetch("".concat("https://frontend-api.pump.fun","/candlesticks/").concat(e,"?offset=").concat((t-1)*1e3,"&limit=").concat(1e3,"&timeframe=").concat(i)),c=await l.json();if(!Array.isArray(c))throw Error("Candlesticks data is not an array");0===c.length?a.current=!1:(n(e=>{let t=[...c,...e],n=new Map;t.forEach(e=>{n.set(e.timestamp,e)});let s=Array.from(n.values());return s.sort((e,t)=>e.timestamp-t.timestamp),s}),o.current=t,c.length>0&&(s.current=c[0].timestamp)),r.current=!1}catch(e){console.error("Failed to fetch candlesticks:",e)}}},[e]);return(0,i.useEffect)(()=>{a.current=!0,r.current=!1,o.current=1,s.current=null,n([]),l.current.clear(),l.current.set(5,Date.now()),c(1,5)},[e]),{candlesticks:t,fetchInitialCandlesticks:(0,i.useCallback)(e=>{let t=Date.now(),n=l.current.get(e);n&&t-n<6e4*e||(l.current.set(e,t),c(1,e))},[c]),fetchMoreCandlesticks:(0,i.useCallback)(e=>{c(o.current+1,e)},[c]),earliestTimestamp:s}},to=e=>{let[t,n]=(0,i.useState)(),[s,a]=(0,i.useState)(!1),{ipfsPrefix:r}=(0,eV.useIpfsPrefix)(),o=async e=>{var t,s;a(!0);let i=await fetch("".concat("https://frontend-api.pump.fun","/coins/").concat(e)).then(e=>e.json());if(500===i.statusCode){a(!1);return}i.image_uri=null===(t=i.image_uri)||void 0===t?void 0:t.replace("https://cf-ipfs.com/ipfs/",r),i.metadata_uri=null===(s=i.metadata_uri)||void 0===s?void 0:s.replace("https://cf-ipfs.com/ipfs/",r),i.twitter&&!i.twitter.startsWith("https://")&&(i.twitter="https://".concat(i.twitter)),i.telegram&&!i.telegram.startsWith("https://")&&(i.telegram="https://".concat(i.telegram)),i.website&&!i.website.startsWith("https://")&&(i.website="https://".concat(i.website)),n(i),a(!1)};return(0,i.useEffect)(()=>{o(e)},[e,r]),{coin:t,loading:s,fetchCoin:o}},tl=e=>{let[t,n]=(0,i.useState)(!1),s=async()=>{if(!e)return;let t=await fetch("".concat("https://frontend-api.pump.fun","/auth/is-super-admin?address=").concat(e)).then(e=>e.json());"boolean"==typeof t&&n(t)};return(0,i.useEffect)(()=>{s()},[e]),{isSuperAdmin:t}};var tc=n(61396),td=n.n(tc),tu=n(24033);let th=e=>/^[1-9A-HJ-NP-Za-km-z]{32,44}$/.test(e);function tm(e){let{params:{mintId:t}}=e,n=(0,l.useSocket)(),[c,d]=(0,i.useState)(!0),{coin:u,fetchCoin:h,loading:m}=to(t),{getUSDMarketCap:p,bondingCurve:f,solPrice:g,getFinalVirtualSolReserves:b}=I(u),[v,y]=(0,i.useState)("trade"),{candlesticks:w,fetchInitialCandlesticks:N,fetchMoreCandlesticks:k,earliestTimestamp:C}=ti(t),{address:P,loginToken:A}=(0,a.useProfile)(),{isAdmin:T}=(0,ez.c)(P),{isSuperAdmin:L}=tl(P);if((0,i.useEffect)(()=>{if(u&&n)return n.emit("joinTradeRoom",{mint:u.mint}),()=>{n.emit("leaveTradeRoom",{mint:u.mint})}},[null==u?void 0:u.mint,n]),!th(t))return(0,tu.notFound)();if(!u&&!m)return(0,s.jsx)("div",{className:"text-center p-4 mt-4 border text-white",children:(0,s.jsx)("p",{children:"Token not found. If you have recently created a token, please wait a few seconds for it to be indexed and then refresh."})});if(m)return(0,s.jsxs)("div",{className:"p-4 mt-4 border text-white grid gap-2",children:[(0,s.jsx)("div",{className:"text-center",children:"Loading..."}),(0,s.jsx)("div",{className:"text-center text-green-300",children:"Taking too long to load? Try refresh."})]});if(!u)return null;let{creator:M,username:E,profile_image:R,mint:O}=u,B=async(e,t)=>{await fetch("".concat("https://frontend-api.pump.fun","/moderation/mark-as-nsfw/").concat(e),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(A)},body:JSON.stringify({nsfw:t})}),await h(e)};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{className:"md:hidden lg:hidden flex justify-center my-4",children:(0,s.jsx)(ef,{coin:u,isMobile:!0})}),(0,s.jsxs)(r.pm,{siteKey:"6LcmKsYpAAAAABAANpgK3LDxDlxfDCoPQUYm3NZI",type:"v3",isEnterprise:!0,explicit:{badge:"hidden"},children:[(0,s.jsx)(o,{}),!(window.innerWidth<768)&&(0,s.jsxs)("div",{className:"md:block hidden mt-16 p-4 mb-16",children:[(0,s.jsxs)("div",{className:"flex justify-center",children:[(0,s.jsx)(Y.z,{variant:"ghost",asChild:!0,className:"-mt-5 text-2xl text-slate-50 hover:font-bold hover:bg-transparent hover:text-slate-50",children:(0,s.jsx)(td(),{href:"/board",children:"[go back]"})}),(0,s.jsx)(ef,{coin:u})]}),T&&(0,s.jsxs)("div",{className:"flex gap-2 w-fit text-white",children:[(0,s.jsx)("button",{className:"p-2 bg-red-400 rounded mr-2",onClick:()=>B(t,!0),children:"Mark as NSFW"}),(0,s.jsx)("button",{className:"p-2 bg-blue-400 rounded mr-2",onClick:()=>B(t,!1),children:"Mark as SFW"})]}),L&&(0,s.jsx)("div",{className:"flex gap-2 w-fit text-white py-4",children:(0,s.jsx)(V,{mint:u.mint})}),u.complete&&(u.raydium_pool?(0,s.jsxs)("div",{className:"p-4 w-fit bg-green-300 rounded mt-4 mb-4",children:["raydium pool seeded! view the coin on raydium"," ",(0,s.jsx)("a",{className:"text-blue-500 hover:underline",target:"_blank",rel:"noopener noreferrer",href:"https://dexscreener.com/solana/".concat(u.raydium_pool),children:"here"})]}):(0,s.jsxs)("div",{className:"p-4 w-fit bg-green-300 rounded mt-4 mb-4",children:["bonding curve complete! a raydium pool will be seeded in the next 5-20 minutes"," ",f?"with $".concat(Math.floor((0,S.s)(b())*g).toLocaleString(),"\n                  of liquidity."):null," ","A link to the pool will be provided here once complete. Only trust the the link that is posted here."]})),(0,s.jsxs)("div",{className:"flex space-x-8 mt-4",children:[(0,s.jsxs)("div",{className:"flex flex-col gap-2 w-2/3",children:[(0,s.jsxs)("div",{className:"text-xs text-green-300 flex w-full justify-between items-center",children:[(0,s.jsxs)("div",{className:"flex gap-4 items-center",children:[(0,s.jsx)("div",{className:"text-gray-400",children:u.name}),(0,s.jsxs)("div",{className:"text-gray-400",children:["Ticker: ",u.symbol]}),(0,s.jsxs)("div",{children:["Market cap: $",u.raydium_pool?u.usd_market_cap?Number(u.usd_market_cap.toFixed(2)).toLocaleString():0:p()]}),(0,s.jsx)("div",{className:"text-gray-400",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("label",{htmlFor:"copy-ca",children:"CA:"}),(0,s.jsx)("input",{type:"text",value:u.mint,id:"copy-ca",className:"py-0.5 px-1 ml-2 block w-full border border-gray-700 rounded-s-sm text-xs focus-visible:outline-1 focus-visible:outline-dashed  disabled:opacity-50 disabled:pointer-events-none bg-black/10",readOnly:!0}),(0,s.jsx)(tr,{str:u.mint,className:"bg-black/20 px-2 py-0.5 inline-flex items-center min-w-fit rounded-e-sm border border-s-0 border-gray-700 text-xs text-gray-500 hover:bg-black/40 focus-visible:outline-1 focus-visible:outline",children:"copy"})]})}),u.nsfw&&(0,s.jsx)("div",{className:"text-red-400",children:"[NSFW]"})]}),(0,s.jsxs)("div",{className:"inline-flex items-center gap-2 text-sm",children:[(0,s.jsx)("span",{children:"created by"}),(0,s.jsx)(eJ.UserPreview,{username:E,profile_image:R,address:M,withBackground:!0})]})]}),(0,s.jsx)("div",{className:"h-4/8",children:(0,s.jsx)(_,{height:400,widthScale:.99,candlesticks:w,fetchInitialCandlesticks:N,fetchMoreCandlesticks:k,earliestTimestamp:C.current,symbol:u.symbol,coin:u})}),(0,s.jsxs)("div",{className:"flex gap-2 h-fit mt-4",children:[(0,s.jsx)("div",{onClick:()=>d(!0),className:(0,x.Z)("cursor-pointer px-1 rounded",c&&"bg-green-300 text-black",!c&&"hover:bg-gray-800 text-gray-500"),children:"Thread"}),(0,s.jsx)("div",{onClick:()=>d(!1),className:(0,x.Z)("cursor-pointer px-1 rounded",!c&&"bg-green-300 text-black",c&&"hover:bg-gray-800 text-gray-500"),children:"Trades"})]}),c?(0,s.jsx)(eY,{coin:u}):(0,s.jsx)(ta,{coin:u})]}),(0,s.jsxs)("div",{className:"w-1/3 grid gap-4 h-fit w-fit",children:[u.raydium_pool?(0,s.jsx)(eF,{coin:u}):(0,s.jsx)(e1,{showInput:!u.complete,coin:u,title:"Dogecoin",holders:[{image:"/placeholder.svg?height=40&width=40",name:"ansem"},{image:"/placeholder.svg?height=40&width=40",name:"out.eth"}],logo:"/placeholder.svg?height=40&width=40",description:"much doge much wow, 1 doge = 1 doge. doge good. doge stronk."}),(0,s.jsx)(U,{coin:u})]})]})]}),(0,s.jsxs)("div",{className:"md:hidden relative grid h-full pb-24",style:{gridTemplateRows:"1fr auto"},children:[T&&(0,s.jsxs)("div",{className:"flex gap-2 w-fit text-white",children:[(0,s.jsx)("button",{className:"p-2 bg-red-400 rounded mr-2",onClick:()=>B(t,!0),children:"Mark as NSFW"}),(0,s.jsx)("button",{className:"p-2 bg-blue-400 rounded",onClick:()=>B(t,!1),children:"Mark as SFW"})]}),L&&(0,s.jsx)("div",{className:"flex gap-2 w-fit text-white py-4",children:(0,s.jsx)(V,{mint:u.mint})}),(0,s.jsxs)("div",{className:"h-full p-4 overflow-auto",children:["info"===v&&(0,s.jsx)(U,{coin:u}),"chart"===v&&(0,s.jsx)("div",{className:"w-full h-full",id:"chart",children:(0,s.jsx)(_,{height:600,widthScale:.95,candlesticks:w,fetchInitialCandlesticks:N,fetchMoreCandlesticks:k,earliestTimestamp:C.current,symbol:u.symbol,coin:u})}),"trade"===v&&(0,s.jsxs)("div",{className:"grid gap-1",children:[u.complete&&(u.raydium_pool?(0,s.jsxs)("div",{className:"p-4 w-fit bg-green-300 rounded mb-4",children:["raydium pool seeded! view the coin on raydium"," ",(0,s.jsx)("a",{className:"text-blue-500 hover:underline",target:"_blank",rel:"noopener noreferrer",href:"https://dexscreener.com/solana/".concat(u.raydium_pool),children:"here"})]}):(0,s.jsxs)("div",{className:"p-4 w-fit bg-green-300 rounded mt-4 mb-4",children:["bonding curve complete! a raydium pool will be seeded in the next 5-20 minutes"," ",f?"with $".concat(Math.floor((0,S.s)(b())*g).toLocaleString()," of liquidity."):null," ","A link to the pool will be provided here once complete. Only trust the link that is posted here."]})),(0,s.jsxs)("div",{className:"text-sm text-green-300 flex gap-2",children:["Market cap: $",u.raydium_pool?u.usd_market_cap?Number(u.usd_market_cap.toFixed(2)).toLocaleString():0:p(),u.nsfw&&(0,s.jsx)("div",{className:"text-red-400",children:"[NSFW]"})]}),(0,s.jsx)("div",{className:"text-gray-400 mb-3",children:(0,s.jsxs)("div",{className:"flex items-center",children:[(0,s.jsx)("label",{htmlFor:"copy-ca",children:"CA:"}),(0,s.jsx)("input",{type:"text",value:u.mint,id:"copy-ca",className:"py-0.5 px-1 ml-2 block w-full border border-gray-700 rounded-s-sm text-sm focus-visible:outline-1 focus-visible:outline-dashed  disabled:opacity-50 disabled:pointer-events-none bg-black/10",readOnly:!0}),(0,s.jsx)(tr,{str:u.mint,className:"bg-black/20 px-2 py-0.5 inline-flex items-center min-w-fit rounded-e-sm border border-s-0 border-gray-700 text-sm text-gray-500 hover:bg-black/40 focus-visible:outline-1 focus-visible:outline",children:"copy"})]})}),u.raydium_pool?(0,s.jsx)(eF,{coin:u}):(0,s.jsx)(e1,{showInput:!u.complete,coin:u,title:"Dogecoin",holders:[{image:"/placeholder.svg?height=40&width=40",name:"ansem"},{image:"/placeholder.svg?height=40&width=40",name:"out.eth"}],logo:"/placeholder.svg?height=40&width=40",description:"much doge much wow, 1 doge = 1 doge. doge good. doge stronk."}),(0,s.jsxs)("div",{className:"flex gap-2",children:[(0,s.jsx)("div",{onClick:()=>d(!0),className:(0,x.Z)("cursor-pointer px-1 rounded",c&&"bg-green-300 text-black",!c&&"hover:bg-gray-800 text-gray-500"),children:"Thread"}),(0,s.jsx)("div",{onClick:()=>d(!1),className:(0,x.Z)("cursor-pointer px-1 rounded",!c&&"bg-green-300 text-black",c&&"hover:bg-gray-800 text-gray-500"),children:"Wall of fame"})]}),c?(0,s.jsx)(eY,{coin:u}):null]}),"txs"===v&&(0,s.jsx)(ta,{coin:u})]}),(0,s.jsx)("div",{className:"md:relative fixed bottom-0 z-10 w-full flex justify-around border-t-2 border-gray-200 py-4 bg-[#5c5f66]",children:[{label:"[info]",key:"info"},{label:"[chart]",key:"chart"},{label:"[buy/sell]",key:"trade"},{label:"[txs]",key:"txs"}].map(e=>{let{label:t,key:n}=e;return(0,s.jsx)(Y.z,{variant:"ghost",onClick:()=>y(n),className:(0,x.Z)("text-black hover:bg-transparent hover:text-white",v===n&&"font-bold text-white bg-transparent"),children:t},n)})})]})]}),(0,s.jsx)(j.$,{reportParams:{type:"coins",id:t}})]})}},16112:function(e,t,n){"use strict";n.d(t,{$:function(){return i}});var s=n(57437);n(2265);var a=n(61396),r=n.n(a);let i=e=>{let{reportParams:t}=e,n=new Date().getFullYear();return(0,s.jsx)("div",{className:"mt-auto py-4 text-gray-400 text-sm md:px-12 px-2",children:(0,s.jsxs)("div",{className:"flex justify-between items-center relative",children:[(0,s.jsxs)("p",{className:"flex-shrink-0",children:["\xa9 pump.fun ",n]}),(0,s.jsxs)("p",{className:"text-gray-400 text-xs absolute left-1/2 transform -translate-x-1/2 text-center",children:["This site is protected by reCAPTCHA and the Google"," ",(0,s.jsx)("a",{href:"https://www.google.com/intl/en/policies/privacy/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Privacy Policy"})," ","and"," ",(0,s.jsx)("a",{href:"https://www.google.com/intl/en/policies/terms/",target:"_blank",rel:"noopener noreferrer",className:"underline",children:"Terms of Service"})," ","apply."]}),t&&(0,s.jsx)(r(),{prefetch:!1,href:"/report/".concat(t.type,"/").concat(t.id),className:"flex-shrink-0",children:"Report"})]})})}},5453:function(e,t,n){"use strict";n.r(t);var s=n(57437),a=n(16691),r=n.n(a),i=n(2265);t.default=e=>{let t="".concat(e.src,"?img-width=").concat(e.width,"&img-dpr=2&img-onerror=redirect"),[n,a]=(0,i.useState)(t);return(0,i.useEffect)(()=>{a(t)},[e]),(0,s.jsx)(r(),{...e,src:n,unoptimized:!0,onError:()=>{a(e.src)}})}},11400:function(e,t,n){"use strict";n.r(t),n.d(t,{UserPreview:function(){return u}});var s=n(57437),a=n(1657),r=n(85429),i=n(30282),o=n(57042),l=n(61396),c=n.n(l),d=n(5453);let u=e=>{let{username:t,profile_image:n,address:l,devAddress:u,withBackground:h,big:m}=e,{ipfsPrefix:p}=(0,r.useIpfsPrefix)(),f=(0,a.Py)(n,p),g=(0,i.Q)((null==l?void 0:l.slice(0,6))||"anon");return(0,s.jsx)(c(),{href:"/profile/".concat(t||l),children:(0,s.jsxs)("span",{className:"flex gap-1  items-center",children:[(0,s.jsx)(d.default,{src:f,width:m?64:16,height:m?64:16,alt:"",className:(0,o.Z)("rounded",m?"w-16":"w-4 h-4")}),(0,s.jsxs)("span",{className:(0,o.Z)("px-1 rounded hover:underline flex gap-1",h&&"text-black"),style:{backgroundColor:h?g:"transparent"},children:[t||(null==l?void 0:l.slice(0,6))||"anon"," ",u&&l.toLowerCase()===u.toLowerCase()&&"(dev)"]})]})})}},85754:function(e,t,n){"use strict";n.d(t,{z:function(){return c}});var s=n(57437),a=n(2265),r=n(67256),i=n(39213),o=n(1657);let l=(0,i.j)("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-white transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 dark:ring-offset-slate-950 dark:focus-visible:ring-slate-300",{variants:{variant:{default:"bg-slate-900 text-slate-50 hover:bg-slate-900/90 dark:bg-slate-50 dark:text-slate-900 dark:hover:bg-slate-50/90",destructive:"bg-red-500 text-slate-50 hover:bg-red-500/90 dark:bg-red-900 dark:text-slate-50 dark:hover:bg-red-900/90",outline:"border border-slate-200 bg-white hover:bg-slate-100 hover:text-slate-900 dark:border-slate-800 dark:bg-slate-950 dark:hover:bg-slate-800 dark:hover:text-slate-50",secondary:"bg-slate-100 text-slate-900 hover:bg-slate-100/80 dark:bg-slate-800 dark:text-slate-50 dark:hover:bg-slate-800/80",ghost:"hover:bg-slate-100 hover:text-slate-900 dark:hover:bg-slate-800 dark:hover:text-slate-50",link:"text-slate-900 underline-offset-4 hover:underline dark:text-slate-50"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),c=a.forwardRef((e,t)=>{let{className:n,variant:a,size:i,asChild:c=!1,...d}=e,u=c?r.g7:"button";return(0,s.jsx)(u,{className:(0,o.cn)(l({variant:a,size:i,className:n})),ref:t,...d})});c.displayName="Button"},42706:function(e,t,n){"use strict";n.d(t,{$N:function(){return p},Vq:function(){return l},cZ:function(){return h},fK:function(){return m},hg:function(){return c}});var s=n(57437),a=n(2265),r=n(28712),i=n(82549),o=n(1657);let l=r.fC,c=r.xz,d=r.h_;r.x8;let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.aV,{ref:t,className:(0,o.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...a})});u.displayName=r.aV.displayName;let h=a.forwardRef((e,t)=>{let{className:n,children:a,showClose:l,...c}=e;return(0,s.jsxs)(d,{children:[(0,s.jsx)(u,{}),(0,s.jsxs)(r.VY,{ref:t,className:(0,o.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-slate-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-slate-800 dark:bg-slate-950",n),...c,children:[a,l&&(0,s.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-slate-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-slate-100 data-[state=open]:text-slate-500 dark:ring-offset-slate-950 dark:focus:ring-slate-300 dark:data-[state=open]:bg-slate-800 dark:data-[state=open]:text-slate-400",children:[(0,s.jsx)(i.Z,{className:"h-4 w-4"}),(0,s.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});h.displayName=r.VY.displayName;let m=e=>{let{className:t,...n}=e;return(0,s.jsx)("div",{className:(0,o.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...n})};m.displayName="DialogHeader";let p=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.Dx,{ref:t,className:(0,o.cn)("text-lg font-semibold leading-none tracking-tight",n),...a})});p.displayName=r.Dx.displayName,a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,s.jsx)(r.dk,{ref:t,className:(0,o.cn)("text-sm text-slate-500 dark:text-slate-400",n),...a})}).displayName=r.dk.displayName},45179:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var s=n(57437),a=n(2265),r=n(1657);let i=a.forwardRef((e,t)=>{let{className:n,type:a,...i}=e;return(0,s.jsx)("input",{type:a,className:(0,r.cn)("flex h-10 w-full rounded-md border border-slate-200 bg-white px-3 py-2 text-sm ring-offset-white file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-slate-500 focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-slate-950 focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 dark:border-slate-800 dark:bg-slate-950 dark:ring-offset-slate-950 dark:placeholder:text-slate-400 dark:focus-visible:ring-slate-300",n),ref:t,...i})});i.displayName="Input"},47788:function(e,t,n){"use strict";n.d(t,{pm:function(){return g},qz:function(){return i}});var s=n(2265),a=n(63438),r=n(25566);let i=5e8,o=0,l=new Map,c=e=>{if(l.has(e))return},d=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,4)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===t.toast.id?{...e,...t.toast}:e)};case"DISMISS_TOAST":{let{toastId:n}=t;return n?c(n):e.toasts.forEach(e=>{c(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===n||void 0===n?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===t.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==t.toastId)}}},u=[],h={toasts:[]};function m(e){h=d(h,e),u.forEach(e=>{e(h)})}function p(e){let{...t}=e,n=(o=(o+1)%Number.MAX_SAFE_INTEGER).toString(),s=()=>m({type:"DISMISS_TOAST",toastId:n});return m({type:"ADD_TOAST",toast:{...t,id:n,open:!0,onOpenChange:e=>{e||s()}}}),{id:n,dismiss:s,update:e=>m({type:"UPDATE_TOAST",toast:{...e,id:n}})}}let f=async e=>{let{...t}=e;if(!t.signature){p({...t});return}let{update:n}=p({...t,status:"pending"}),s=["https://pump-fe.helius-rpc.com?api-key=1b8db865-a5a1-4535-9aec-01061440523b",r.env.NEXT_PUBLIC_SOLANA_API_URL2,r.env.NEXT_PUBLIC_SOLANA_API_URL3,r.env.NEXT_PUBLIC_SOLANA_API_URL5,r.env.NEXT_PUBLIC_SOLANA_API_URL6].filter(e=>e);return new Promise((e,r)=>{s.map(async s=>{let i=new a.Connection(s,"processed"),o=await i.getLatestBlockhash("finalized");i.confirmTransaction({blockhash:o.blockhash,lastValidBlockHeight:o.lastValidBlockHeight,signature:t.signature},"processed").then(s=>{s.value.err?n({...t,status:"error",id:""}):n({...t,status:"success",id:""}),e(t.signature)}).catch(e=>{console.error(t,t.signature,e),n({...t,status:"error",id:""}),r(e)}),i.confirmTransaction({blockhash:o.blockhash,lastValidBlockHeight:o.lastValidBlockHeight,signature:t.signature},"confirmed").then(s=>{s.value.err?n({...t,status:"error",id:""}):n({...t,status:"success",id:""}),e(t.signature)}).catch(e=>{console.error(t,t.signature,e),n({...t,status:"error",id:""}),r(e)})})})};function g(){let[e,t]=s.useState(h);return s.useEffect(()=>(u.push(t),()=>{let e=u.indexOf(t);e>-1&&u.splice(e,1)}),[e]),{...e,toast:p,toastTransaction:f,dismiss:e=>m({type:"DISMISS_TOAST",toastId:e})}}},21499:function(e,t,n){"use strict";n.d(t,{O:function(){return l}});var s=n(94121),a=n(63438),r=n(2265),i=n(72086),o=n(68166);let l=()=>{let[e,t]=(0,r.useState)(),[n,l]=(0,r.useState)(!1),[c,d]=(0,r.useState)(),{connection:u}=(0,i.R)(),h=async()=>{l(!0);let e=new s.Y7(u,null,{}),n=new s.$r(o,new a.PublicKey("6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P"),e),[r]=a.PublicKey.findProgramAddressSync([s.P6.bytes.utf8.encode("global")],n.programId),i=await n.account.global.fetch(r);d(r),t(i),l(!1)};return(0,r.useEffect)(()=>{h()},[]),{global:e,loading:n,fetchGlobal:h,globalPDA:c}}},55584:function(e,t,n){"use strict";n.d(t,{c:function(){return a}});var s=n(2265);let a=e=>{let[t,n]=(0,s.useState)(!1),a=async()=>{if(!e)return;let t=await fetch("".concat("https://frontend-api.pump.fun","/auth/is-admin?address=").concat(e)).then(e=>e.json());"boolean"==typeof t&&n(t)};return(0,s.useEffect)(()=>{a()},[e]),{isAdmin:t}}},82699:function(e,t,n){"use strict";n.d(t,{h:function(){return i}});var s=n(72086),a=n(63438),r=n(2265);let i=e=>{let[t,n]=(0,r.useState)(),{connection:i}=(0,s.R)();async function o(){if(e)try{let t=await i.getBalance(new a.PublicKey(e));n(t)}catch(e){console.error("Error fetching initial balance:",e)}}return(0,r.useEffect)(()=>{if(!e)return;o();let t=i.onAccountChange(new a.PublicKey(e),async e=>{n(e.lamports)},"confirmed");return()=>{i.removeAccountChangeListener(t)}},[e]),{solBalance:t,fetchSolBalance:o}}},2953:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var s=n(2265);let a=e=>{let[t,n]=(0,s.useState)(),a=async()=>{if(e)try{let t=await fetch("".concat("https://frontend-api.pump.fun","/users/").concat(e)).then(e=>null==e?void 0:e.json());n(t)}catch(e){console.log(e)}};return(0,s.useEffect)(()=>{a()},[e]),{fetchUser:a,user:t}}},1657:function(e,t,n){"use strict";n.d(t,{Py:function(){return o},WE:function(){return i},cn:function(){return r},i$:function(){return l}});var s=n(57042),a=n(74769);function r(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return(0,a.m6)((0,s.W)(t))}let i="https://cf-ipfs.com/ipfs/QmeSzchzEPqCU1jwTnsipwcBAeH7S4bmVvFGfF65iA1BY1",o=(e,t)=>(e||i).replace("https://cf-ipfs.com/ipfs/",t);function l(e){let t=new Date(e);return new Intl.DateTimeFormat("en-GB",{dateStyle:"short",timeStyle:"short"}).format(t)}},85429:function(e,t,n){"use strict";n.r(t),n.d(t,{IpfsPrefixProvider:function(){return l},useIpfsPrefix:function(){return i}});var s=n(57437),a=n(2265);let r=(0,a.createContext)({ipfsPrefix:"https://ipfs.io/ipfs/",findIpfsPrefix:()=>{}}),i=()=>(0,a.useContext)(r),o="https://pump.mypinata.cloud/ipfs/",l=e=>{let{children:t}=e,[n,i]=(0,a.useState)(o),l=async()=>{let e="QmXeG5tTjC63hjTF7a4GcUyetE6yPcsR4rBzX7wb8mmpzg",t=["https://cf-ipfs.com/ipfs/","https://gateway.pinata.cloud/ipfs/","https://ipfs.io/ipfs/"];await fetch("".concat(o).concat(e)).then(e=>e.json()).then(e=>{i(o)}).catch(n=>{console.error(n),t.forEach(async t=>{let n=await fetch("".concat(t).concat(e)).then(e=>e.json());(null==n?void 0:n.name)&&i(e=>e!==o?e:t)})})};return(0,a.useEffect)(()=>{l()},[]),(0,s.jsx)(r.Provider,{value:{ipfsPrefix:n,findIpfsPrefix:l},children:t})}},72471:function(e,t,n){"use strict";n.r(t),n.d(t,{PriorityFeeProvider:function(){return o},usePriorityFee:function(){return i}});var s=n(57437),a=n(2265);let r=(0,a.createContext)({priorityFee:0,useJito:!1}),i=()=>(0,a.useContext)(r),o=e=>{let{children:t}=e,[n,i]=(0,a.useState)(!1),[o,l]=(0,a.useState)(),[c,d]=(0,a.useState)(1e5),u=async()=>{try{var e;let t=await fetch("https://pump-fe.helius-rpc.com?api-key=1b8db865-a5a1-4535-9aec-01061440523b",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({jsonrpc:"2.0",id:"1",method:"getPriorityFeeEstimate",params:[{accountKeys:["6EF8rrecthR5Dkzon8Nwu78hRvfCKubJ14M5uBEwF6P"],options:{recommended:!0}}]})}).then(e=>e.json());if(t.error)throw Error(t.error.message);d(Math.min(Math.max((null==t?void 0:null===(e=t.result)||void 0===e?void 0:e.priorityFeeEstimate)||0,1e5),5e7))}catch(e){console.error("failed to fetch priority fee",e)}},h=async()=>{},m=async()=>{let{jitoTipAccount:e}=await fetch("".concat("https://frontend-api.pump.fun","/send-transaction/jito-tip-account")).then(e=>e.json());l(e)};return(0,a.useEffect)(()=>{u(),m(),h();let e=setInterval(()=>{u()},15e3);return .1>Math.random()&&i(!0),()=>clearInterval(e)},[]),(0,s.jsx)(r.Provider,{value:{priorityFee:c,tipAccount:n?o:"HWEoBxYs7ssKuudEjzjmpfJVX7Dvi7wescFsVx2L5yoY",useJito:n},children:t})}},80323:function(e,t,n){"use strict";n.r(t),n.d(t,{ProfileProvider:function(){return p},useProfile:function(){return m}});var s=n(57437),a=n(2953),r=n(46467),i=n(23845),o=n(78898),l=n(3446),c=n(68870),d=n.n(c),u=n(2265);let h=(0,u.createContext)({}),m=()=>(0,u.useContext)(h),p=e=>{let{children:t}=e,[n,c]=(0,u.useState)(!1),[m,p]=(0,o._)("jwt-login-token",""),{signMessage:f,publicKey:g}=(0,l.O)(),[x,b]=(0,u.useState)(),{user:v,fetchUser:y}=(0,a.a)(x);(0,u.useEffect)(()=>{x&&((0,i.sendGTMEvent)({user_id:x}),(0,r.dk)()&&(0,r.u8)("setIdentity",{uid:x}))},[x]);let w=async()=>{if(!f||!g)throw Error("Wallet not connected");c(!0);try{let e=Date.now(),t=d().encode(await f(new TextEncoder().encode("Sign in to pump.fun: ".concat(e)))),{access_token:n}=await fetch("".concat("https://frontend-api.pump.fun","/auth/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:g.toBase58(),signature:t,timestamp:e})}).then(e=>e.json());p(n)}catch(e){console.error("Failed to login",e)}finally{c(!1)}};return(0,u.useEffect)(()=>{if(m){let e=JSON.parse(atob(m.split(".")[1]));1e3*e.exp<Date.now()&&p(""),g&&g.toBase58()!==e.address&&p(""),b(e.address),fetch("".concat("https://frontend-api.pump.fun","/users/register"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(m)},body:JSON.stringify({address:e.address})})}},[m,g]),(0,s.jsx)(h.Provider,{value:{loginToken:m,login:w,loginLoading:n,address:x,user:v,fetchUser:y},children:t})}},89066:function(e,t,n){"use strict";n.r(t),n.d(t,{RpcUrlProvider:function(){return c},useRpcUrl:function(){return o}});var s=n(57437),a=n(2265),r=n(25566);let i=(0,a.createContext)({rpcUrl:"https://pump-fe.helius-rpc.com?api-key=1b8db865-a5a1-4535-9aec-01061440523b"}),o=()=>(0,a.useContext)(i),l=["https://pump-fe.helius-rpc.com?api-key=1b8db865-a5a1-4535-9aec-01061440523b",r.env.NEXT_PUBLIC_SOLANA_API_URL2,r.env.NEXT_PUBLIC_SOLANA_API_URL3,r.env.NEXT_PUBLIC_SOLANA_API_URL4,r.env.NEXT_PUBLIC_SOLANA_API_URL5,r.env.NEXT_PUBLIC_SOLANA_API_URL6,r.env.NEXT_PUBLIC_SOLANA_API_URL7,r.env.NEXT_PUBLIC_SOLANA_API_URL8,r.env.NEXT_PUBLIC_SOLANA_API_URL9].filter(e=>e),c=e=>{let{children:t}=e,[n,r]=(0,a.useState)(l[Math.floor(Math.random()*l.length)]);return(0,s.jsx)(i.Provider,{value:{rpcUrl:n},children:t})}},89328:function(e,t,n){"use strict";n.r(t),n.d(t,{SocketProvider:function(){return c},useSocket:function(){return l}});var s=n(57437),a=n(50439),r=n(2265),i=n(63388);let o=(0,r.createContext)(null),l=()=>(0,r.useContext)(o),c=e=>{let{children:t}=e,n=(0,a.O_)(),l=(0,r.useMemo)(()=>n?(0,i.ZP)("https://frontend-api.pump.fun",{transports:["websocket"]}):null,[n]);return(0,s.jsx)(o.Provider,{value:l,children:t})}},30282:function(e,t,n){"use strict";n.d(t,{Q:function(){return s}});let s=e=>{let t=0;for(let n=0;n<e.length;n++)t=e.charCodeAt(n)+((t<<5)-t),t&=t;let n=(t=Math.abs(t))%128+127,s=(t>>8)%128+127,a=(t>>16)%128+127;return"#".concat(n.toString(16).padStart(2,"0")).concat(s.toString(16).padStart(2,"0")).concat(a.toString(16).padStart(2,"0"))}},2560:function(e,t,n){"use strict";n.d(t,{K:function(){return a}});var s=n(94121);let a=e=>"number"==typeof e?e/1e6:e.div(new s.BN(1e6)).toNumber()},68368:function(e,t,n){"use strict";n.d(t,{s:function(){return a}});var s=n(63438);let a=e=>e.toNumber()/s.LAMPORTS_PER_SOL},76308:function(e,t,n){"use strict";n.d(t,{T:function(){return a}});var s=n(88355);let a=async(e,t,n,a)=>{let r=s.bs58.encode(e.signatures[0]),i=e.serialize();return(async()=>{await fetch("".concat("https://frontend-api.pump.fun","/send-transaction"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({serializedTransaction:s.bs58.encode(i),retries:5,frontRunningProtection:a,useJito:n})})})(),r}},45234:function(e){e.exports={"dexscreener-embed":"Chart_dexscreener-embed__hO81q"}},68166:function(e){"use strict";e.exports=JSON.parse('{"version":"0.1.0","name":"pump","instructions":[{"name":"initialize","docs":["Creates the global state."],"accounts":[{"name":"global","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false}],"args":[]},{"name":"setParams","docs":["Sets the global state parameters."],"accounts":[{"name":"global","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"eventAuthority","isMut":false,"isSigner":false},{"name":"program","isMut":false,"isSigner":false}],"args":[{"name":"feeRecipient","type":"publicKey"},{"name":"initialVirtualTokenReserves","type":"u64"},{"name":"initialVirtualSolReserves","type":"u64"},{"name":"initialRealTokenReserves","type":"u64"},{"name":"tokenTotalSupply","type":"u64"},{"name":"feeBasisPoints","type":"u64"}]},{"name":"create","docs":["Creates a new coin and bonding curve."],"accounts":[{"name":"mint","isMut":true,"isSigner":true},{"name":"mintAuthority","isMut":false,"isSigner":false},{"name":"bondingCurve","isMut":true,"isSigner":false},{"name":"associatedBondingCurve","isMut":true,"isSigner":false},{"name":"global","isMut":false,"isSigner":false},{"name":"mplTokenMetadata","isMut":false,"isSigner":false},{"name":"metadata","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"eventAuthority","isMut":false,"isSigner":false},{"name":"program","isMut":false,"isSigner":false}],"args":[{"name":"name","type":"string"},{"name":"symbol","type":"string"},{"name":"uri","type":"string"}]},{"name":"buy","docs":["Buys tokens from a bonding curve."],"accounts":[{"name":"global","isMut":false,"isSigner":false},{"name":"feeRecipient","isMut":true,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"bondingCurve","isMut":true,"isSigner":false},{"name":"associatedBondingCurve","isMut":true,"isSigner":false},{"name":"associatedUser","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"eventAuthority","isMut":false,"isSigner":false},{"name":"program","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"},{"name":"maxSolCost","type":"u64"}]},{"name":"sell","docs":["Sells tokens into a bonding curve."],"accounts":[{"name":"global","isMut":false,"isSigner":false},{"name":"feeRecipient","isMut":true,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"bondingCurve","isMut":true,"isSigner":false},{"name":"associatedBondingCurve","isMut":true,"isSigner":false},{"name":"associatedUser","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"associatedTokenProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"eventAuthority","isMut":false,"isSigner":false},{"name":"program","isMut":false,"isSigner":false}],"args":[{"name":"amount","type":"u64"},{"name":"minSolOutput","type":"u64"}]},{"name":"withdraw","docs":["Allows the admin to withdraw liquidity for a migration once the bonding curve completes"],"accounts":[{"name":"global","isMut":false,"isSigner":false},{"name":"lastWithdraw","isMut":true,"isSigner":false},{"name":"mint","isMut":false,"isSigner":false},{"name":"bondingCurve","isMut":true,"isSigner":false},{"name":"associatedBondingCurve","isMut":true,"isSigner":false},{"name":"associatedUser","isMut":true,"isSigner":false},{"name":"user","isMut":true,"isSigner":true},{"name":"systemProgram","isMut":false,"isSigner":false},{"name":"tokenProgram","isMut":false,"isSigner":false},{"name":"rent","isMut":false,"isSigner":false},{"name":"eventAuthority","isMut":false,"isSigner":false},{"name":"program","isMut":false,"isSigner":false}],"args":[]}],"accounts":[{"name":"Global","type":{"kind":"struct","fields":[{"name":"initialized","type":"bool"},{"name":"authority","type":"publicKey"},{"name":"feeRecipient","type":"publicKey"},{"name":"initialVirtualTokenReserves","type":"u64"},{"name":"initialVirtualSolReserves","type":"u64"},{"name":"initialRealTokenReserves","type":"u64"},{"name":"tokenTotalSupply","type":"u64"},{"name":"feeBasisPoints","type":"u64"}]}},{"name":"LastWithdraw","type":{"kind":"struct","fields":[{"name":"lastWithdrawTimestamp","type":"i64"}]}},{"name":"BondingCurve","type":{"kind":"struct","fields":[{"name":"virtualTokenReserves","type":"u64"},{"name":"virtualSolReserves","type":"u64"},{"name":"realTokenReserves","type":"u64"},{"name":"realSolReserves","type":"u64"},{"name":"tokenTotalSupply","type":"u64"},{"name":"complete","type":"bool"}]}}],"events":[{"name":"CreateEvent","fields":[{"name":"name","type":"string","index":false},{"name":"symbol","type":"string","index":false},{"name":"uri","type":"string","index":false},{"name":"mint","type":"publicKey","index":false},{"name":"bondingCurve","type":"publicKey","index":false},{"name":"user","type":"publicKey","index":false}]},{"name":"TradeEvent","fields":[{"name":"mint","type":"publicKey","index":false},{"name":"solAmount","type":"u64","index":false},{"name":"tokenAmount","type":"u64","index":false},{"name":"isBuy","type":"bool","index":false},{"name":"user","type":"publicKey","index":false},{"name":"timestamp","type":"i64","index":false},{"name":"virtualSolReserves","type":"u64","index":false},{"name":"virtualTokenReserves","type":"u64","index":false},{"name":"realSolReserves","type":"u64","index":false},{"name":"realTokenReserves","type":"u64","index":false}]},{"name":"CompleteEvent","fields":[{"name":"user","type":"publicKey","index":false},{"name":"mint","type":"publicKey","index":false},{"name":"bondingCurve","type":"publicKey","index":false},{"name":"timestamp","type":"i64","index":false}]},{"name":"SetParamsEvent","fields":[{"name":"feeRecipient","type":"publicKey","index":false},{"name":"initialVirtualTokenReserves","type":"u64","index":false},{"name":"initialVirtualSolReserves","type":"u64","index":false},{"name":"initialRealTokenReserves","type":"u64","index":false},{"name":"tokenTotalSupply","type":"u64","index":false},{"name":"feeBasisPoints","type":"u64","index":false}]}],"errors":[{"code":6000,"name":"NotAuthorized","msg":"The given account is not authorized to execute this instruction."},{"code":6001,"name":"AlreadyInitialized","msg":"The program is already initialized."},{"code":6002,"name":"TooMuchSolRequired","msg":"slippage: Too much SOL required to buy the given amount of tokens."},{"code":6003,"name":"TooLittleSolReceived","msg":"slippage: Too little SOL received to sell the given amount of tokens."},{"code":6004,"name":"MintDoesNotMatchBondingCurve","msg":"The mint does not match the bonding curve."},{"code":6005,"name":"BondingCurveComplete","msg":"The bonding curve has completed and liquidity migrated to raydium."},{"code":6006,"name":"BondingCurveNotComplete","msg":"The bonding curve has not completed."},{"code":6007,"name":"NotInitialized","msg":"The program is not initialized."},{"code":6008,"name":"WithdrawTooFrequent","msg":"Withdraw too frequent"}]}')}},function(e){e.O(0,[3814,9571,8310,3125,4335,7674,9929,9177,7017,3178,5834,4715,1351,6691,439,1806,6342,9864,2698,2023,3388,4265,8723,5484,1511,2971,4938,1744],function(){return e(e.s=18255)}),_N_E=e.O()}]);